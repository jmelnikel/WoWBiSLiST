{"ast":null,"code":"import express from 'express';\nimport env from 'react-dotenv';\nimport passport from 'passport';\n\nconst BnetStrategy = require('passport-bnet').Strategy;\n\nconst app = express();\nconst BNET_ID = env.BNET_ID;\nconst BNET_SECRET = env.BNET_SECRET;\npassport.use(new BnetStrategy({\n  clientID: BNET_ID,\n  clientSecret: BNET_SECRET,\n  callbackURL: \"https://localhost:3000/auth/bnet/callback\",\n  region: \"us\"\n}, function (accessToken, refreshToken, profile, done) {\n  return done(null, profile);\n}));\napp.get('/auth/bnet', passport.authenticate('bnet'));\napp.get('/auth/bnet/callback', passport.authenticate('bnet', {\n  failureRedirect: '/'\n}), function (req, res) {\n  res.redirect('/');\n});\nexport default getToken;","map":{"version":3,"sources":["/Users/jm-laptop/Documents/Portfolio/wowbislist/src/api/OAuth.js"],"names":["express","env","passport","BnetStrategy","require","Strategy","app","BNET_ID","BNET_SECRET","use","clientID","clientSecret","callbackURL","region","accessToken","refreshToken","profile","done","get","authenticate","failureRedirect","req","res","redirect","getToken"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,QAAP,MAAqB,UAArB;;AACA,MAAMC,YAAY,GAAGC,OAAO,CAAC,eAAD,CAAP,CAAyBC,QAA9C;;AAEA,MAAMC,GAAG,GAAGN,OAAO,EAAnB;AACA,MAAMO,OAAO,GAAGN,GAAG,CAACM,OAApB;AACA,MAAMC,WAAW,GAAGP,GAAG,CAACO,WAAxB;AAEAN,QAAQ,CAACO,GAAT,CAAa,IAAIN,YAAJ,CAAiB;AAC5BO,EAAAA,QAAQ,EAAEH,OADkB;AAE5BI,EAAAA,YAAY,EAAEH,WAFc;AAG5BI,EAAAA,WAAW,EAAE,2CAHe;AAI5BC,EAAAA,MAAM,EAAE;AAJoB,CAAjB,EAKV,UAASC,WAAT,EAAsBC,YAAtB,EAAoCC,OAApC,EAA6CC,IAA7C,EAAmD;AACpD,SAAOA,IAAI,CAAC,IAAD,EAAOD,OAAP,CAAX;AACD,CAPY,CAAb;AASAV,GAAG,CAACY,GAAJ,CAAQ,YAAR,EACEhB,QAAQ,CAACiB,YAAT,CAAsB,MAAtB,CADF;AAGAb,GAAG,CAACY,GAAJ,CAAQ,qBAAR,EACEhB,QAAQ,CAACiB,YAAT,CAAsB,MAAtB,EAA8B;AAAEC,EAAAA,eAAe,EAAE;AAAnB,CAA9B,CADF,EAEE,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACjBA,EAAAA,GAAG,CAACC,QAAJ,CAAa,GAAb;AACD,CAJH;AAOA,eAAeC,QAAf","sourcesContent":["import express from 'express';\nimport env from 'react-dotenv';\nimport passport from 'passport';\nconst BnetStrategy = require('passport-bnet').Strategy;\n\nconst app = express();\nconst BNET_ID = env.BNET_ID;\nconst BNET_SECRET = env.BNET_SECRET;\n\npassport.use(new BnetStrategy({\n  clientID: BNET_ID,\n  clientSecret: BNET_SECRET,\n  callbackURL: \"https://localhost:3000/auth/bnet/callback\",\n  region: \"us\"\n}, function(accessToken, refreshToken, profile, done) {\n  return done(null, profile);\n}));\n\napp.get('/auth/bnet',\n  passport.authenticate('bnet'));\n\napp.get('/auth/bnet/callback',\n  passport.authenticate('bnet', { failureRedirect: '/' }),\n  function(req, res) {\n    res.redirect('/');\n  });\n\n\nexport default getToken;"]},"metadata":{},"sourceType":"module"}