{"ast":null,"code":"// import express from 'express';\nconst express = require('express');\n\nimport env from 'react-dotenv';\nimport passport from 'passport';\n\nconst BnetStrategy = require('passport-bnet').Strategy;\n\nconst app = express;\nconst BNET_ID = env.BNET_ID;\nconst BNET_SECRET = env.BNET_SECRET;\npassport.use(new BnetStrategy({\n  clientID: BNET_ID,\n  clientSecret: BNET_SECRET,\n  callbackURL: \"https://localhost:3000/auth/bnet/callback\",\n  region: \"us\"\n}, function (accessToken, refreshToken, profile, done) {\n  return done(null, profile);\n}));\n\nconst handleOnClick = () => {\n  app.get('/auth/bnet', passport.authenticate('bnet'));\n};\n\napp.get('/auth/bnet', passport.authenticate('bnet'));\napp.get('/auth/bnet/callback', passport.authenticate('bnet', {\n  failureRedirect: '/'\n}), function (req, res) {\n  res.redirect('/');\n});\nexport default handleOnClick;","map":{"version":3,"sources":["/Users/jm-laptop/Documents/Portfolio/wowbislist/src/api/OAuth.js"],"names":["express","require","env","passport","BnetStrategy","Strategy","app","BNET_ID","BNET_SECRET","use","clientID","clientSecret","callbackURL","region","accessToken","refreshToken","profile","done","handleOnClick","get","authenticate","failureRedirect","req","res","redirect"],"mappings":"AAAA;AACA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,QAAP,MAAqB,UAArB;;AACA,MAAMC,YAAY,GAAGH,OAAO,CAAC,eAAD,CAAP,CAAyBI,QAA9C;;AAEA,MAAMC,GAAG,GAAGN,OAAZ;AACA,MAAMO,OAAO,GAAGL,GAAG,CAACK,OAApB;AACA,MAAMC,WAAW,GAAGN,GAAG,CAACM,WAAxB;AAEAL,QAAQ,CAACM,GAAT,CAAa,IAAIL,YAAJ,CAAiB;AAC5BM,EAAAA,QAAQ,EAAEH,OADkB;AAE5BI,EAAAA,YAAY,EAAEH,WAFc;AAG5BI,EAAAA,WAAW,EAAE,2CAHe;AAI5BC,EAAAA,MAAM,EAAE;AAJoB,CAAjB,EAKV,UAASC,WAAT,EAAsBC,YAAtB,EAAoCC,OAApC,EAA6CC,IAA7C,EAAmD;AACpD,SAAOA,IAAI,CAAC,IAAD,EAAOD,OAAP,CAAX;AACD,CAPY,CAAb;;AASA,MAAME,aAAa,GAAG,MAAM;AAC1BZ,EAAAA,GAAG,CAACa,GAAJ,CAAQ,YAAR,EACEhB,QAAQ,CAACiB,YAAT,CAAsB,MAAtB,CADF;AAED,CAHD;;AAMAd,GAAG,CAACa,GAAJ,CAAQ,YAAR,EACEhB,QAAQ,CAACiB,YAAT,CAAsB,MAAtB,CADF;AAGAd,GAAG,CAACa,GAAJ,CAAQ,qBAAR,EACEhB,QAAQ,CAACiB,YAAT,CAAsB,MAAtB,EAA8B;AAAEC,EAAAA,eAAe,EAAE;AAAnB,CAA9B,CADF,EAEE,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACjBA,EAAAA,GAAG,CAACC,QAAJ,CAAa,GAAb;AACD,CAJH;AAMA,eAAeN,aAAf","sourcesContent":["// import express from 'express';\nconst express = require('express');\nimport env from 'react-dotenv';\nimport passport from 'passport';\nconst BnetStrategy = require('passport-bnet').Strategy;\n\nconst app = express;\nconst BNET_ID = env.BNET_ID;\nconst BNET_SECRET = env.BNET_SECRET;\n\npassport.use(new BnetStrategy({\n  clientID: BNET_ID,\n  clientSecret: BNET_SECRET,\n  callbackURL: \"https://localhost:3000/auth/bnet/callback\",\n  region: \"us\"\n}, function(accessToken, refreshToken, profile, done) {\n  return done(null, profile);\n}));\n\nconst handleOnClick = () => {\n  app.get('/auth/bnet',\n    passport.authenticate('bnet'));\n};\n\n\napp.get('/auth/bnet',\n  passport.authenticate('bnet'));\n\napp.get('/auth/bnet/callback',\n  passport.authenticate('bnet', { failureRedirect: '/' }),\n  function(req, res) {\n    res.redirect('/');\n  });\n\nexport default handleOnClick;"]},"metadata":{},"sourceType":"module"}