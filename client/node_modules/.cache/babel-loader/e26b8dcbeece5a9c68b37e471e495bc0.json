{"ast":null,"code":"/* eslint-disable */\nconst whTooltips = {\n  colorLinks: true,\n  iconizeLinks: true,\n  renameLinks: true\n};\n\nif (!window.WH) {\n  window.WH = {\n    PageMeta: {},\n    staticUrl: \"https://wow.zamimg.com\",\n    wowheadRemote: true\n  };\n} // WH.isTouch = function() {\n//   if (!WH.wowheadRemote && typeof Platform !== \"undefined\") {\n//     WH.isTouch = () => {\n//       return Platform.isTouch()\n//     }\n//   } else {\n//     const b = navigator.userAgent || navigator.vendor || window.opera;\n//     const a = {\n//       isMobile: false,\n//       isTablet: false\n//     };\n//     if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(b.substr(0, 4))) {\n//       a.isMobile = true\n//     }\n//     if (!a.isMobile && /(android|ipad|playbook|silk)/i.test(b)) {\n//       a.isTablet = true\n//     }\n//     WH.isTouch = ((c) => {\n//       return c.isMobile || c.isTablet\n//     }).bind(null, a);\n//     WH.isMobile = ((c) => {\n//       return c\n//     }).bind(null, a.isMobile);\n//     WH.isTablet = ((c) => {\n//       return c\n//     }).bind(null, a.isTablet)\n//   }\n//   return WH.isTouch()\n// };\n\n\nif (!window.$WowheadPower) {\n  window.$WowheadPower = new function () {\n    if (!WH.Types) {\n      WH.Types = new function () {\n        this.NPC = 1;\n        this.OBJECT = 2;\n        this.ITEM = 3;\n        this.ITEM_SET = 4;\n        this.QUEST = 5;\n        this.SPELL = 6;\n        this.ZONE = 7;\n        this.FACTION = 8;\n        this.PET = 9;\n        this.ACHIEVEMENT = 10;\n        this.TITLE = 11;\n        this.EVENT = 12;\n        this.CLASS = 13;\n        this.RACE = 14;\n        this.SKILL = 15;\n        this.CURRENCY = 17;\n        this.PROJECT = 18;\n        this.SOUND = 19;\n        this.BUILDING = 20;\n        this.FOLLOWER = 21;\n        this.MISSION_ABILITY = 22;\n        this.MISSION = 23;\n        this.SHIP = 25;\n        this.THREAT = 26;\n        this.RESOURCE = 27;\n        this.CHAMPION = 28;\n        this.ICON = 29;\n        this.ORDER_ADVANCEMENT = 30;\n        this.FOLLOWER_A = 31;\n        this.FOLLOWER_H = 32;\n        this.SHIP_A = 33;\n        this.SHIP_H = 34;\n        this.CHAMPION_A = 35;\n        this.CHAMPION_H = 36;\n        this.TRANSMOG_ITEM = 37;\n        this.BFA_CHAMPION = 38;\n        this.BFA_CHAMPION_A = 39;\n        this.AFFIX = 40;\n        this.BFA_CHAMPION_H = 41;\n        this.AZERITE_ESSENCE_POWER = 42;\n        this.AZERITE_ESSENCE = 43;\n        this.STORYLINE = 44;\n        this.ADVENTURE_COMBATANT_ABILITY = 46;\n        this.ENCOUNTER = 47;\n        this.PET_ABILITY = 200;\n        this.SCREENSHOT = 91;\n        this.GUIDE_IMAGE = 98;\n        this.GUIDE = 100;\n        this.TRANSMOG_SET = 101;\n        this.OUTFIT = 110;\n        this.GEAR_SET = 111;\n        this.LISTVIEW = 158;\n      }();\n    }\n\n    const aI = WH.Types;\n    const C = {\n      garrisonability: \"mission-ability\",\n      itemset: \"item-set\",\n      petability: \"pet-ability\"\n    };\n    const aM = -1;\n    const l = 0;\n    const c = 1;\n    const Z = {};\n    Z[\"-1000\"] = {\n      name: \"Mount\",\n      path: \"mount\",\n      mobile: true,\n      data: {},\n      maxId: 50000\n    };\n    Z[\"-1001\"] = {\n      name: \"Recipe\",\n      path: \"recipe\",\n      mobile: true,\n      data: {},\n      maxId: 500000\n    };\n    Z[\"-1002\"] = {\n      name: \"Battle Pet\",\n      path: \"battle-pet\",\n      mobile: true,\n      data: {},\n      maxId: 50000\n    };\n    Z[WH.Types.NPC] = {\n      name: \"NPC\",\n      path: \"npc\",\n      mobile: false,\n      data: {},\n      maxId: 500000\n    };\n    Z[WH.Types.OBJECT] = {\n      name: \"Object\",\n      path: \"object\",\n      mobile: false,\n      data: {},\n      maxId: 750000\n    };\n    Z[WH.Types.ITEM] = {\n      name: \"Item\",\n      path: \"item\",\n      mobile: true,\n      data: {},\n      maxId: 500000\n    };\n    Z[WH.Types.ITEM_SET] = {\n      name: \"Item Set\",\n      path: \"item-set\",\n      mobile: true,\n      data: {},\n      maxId: 10000,\n      minId: -5000\n    };\n    Z[WH.Types.QUEST] = {\n      name: \"Quest\",\n      path: \"quest\",\n      mobile: false,\n      data: {},\n      maxId: 100000\n    };\n    Z[WH.Types.SPELL] = {\n      name: \"Spell\",\n      path: \"spell\",\n      mobile: true,\n      data: {},\n      maxId: 500000\n    };\n    Z[WH.Types.ZONE] = {\n      name: \"Zone\",\n      path: \"zone\",\n      mobile: false,\n      data: {},\n      maxId: 50000\n    };\n    Z[WH.Types.ACHIEVEMENT] = {\n      name: \"Achievement\",\n      path: \"achievement\",\n      mobile: true,\n      data: {},\n      maxId: 50000\n    };\n    Z[WH.Types.EVENT] = {\n      name: \"Event\",\n      path: \"event\",\n      mobile: false,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.CURRENCY] = {\n      name: \"Currency\",\n      path: \"currency\",\n      mobile: false,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.BUILDING] = {\n      name: \"Building\",\n      path: \"building\",\n      mobile: false,\n      data: {},\n      maxId: 1000\n    };\n    Z[WH.Types.FOLLOWER] = {\n      name: \"Follower\",\n      path: \"follower\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.MISSION_ABILITY] = {\n      name: \"Mission Ability\",\n      path: \"mission-ability\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.MISSION] = {\n      name: \"Mission\",\n      path: \"mission\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.SHIP] = {\n      name: \"Ship\",\n      path: \"ship\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.THREAT] = {\n      name: \"Threat\",\n      path: \"threat\",\n      mobile: false,\n      data: {},\n      maxId: 1000\n    };\n    Z[WH.Types.RESOURCE] = {\n      name: \"Resource\",\n      path: \"resource\",\n      mobile: true,\n      data: {},\n      maxId: 100,\n      minId: 0\n    };\n    Z[WH.Types.CHAMPION] = {\n      name: \"Champion\",\n      path: \"champion\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.ORDER_ADVANCEMENT] = {\n      name: \"Order Advancement\",\n      path: \"order-advancement\",\n      mobile: true,\n      data: {},\n      maxId: 5000\n    };\n    Z[WH.Types.BFA_CHAMPION] = {\n      name: \"BFA Champion\",\n      path: \"bfa-champion\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.AFFIX] = {\n      name: \"Affix\",\n      path: \"affix\",\n      mobile: true,\n      data: {},\n      maxId: 1000\n    };\n    Z[WH.Types.AZERITE_ESSENCE_POWER] = {\n      name: \"Azerite Essence Power\",\n      path: \"azerite-essence-power\",\n      mobile: true,\n      data: {},\n      maxId: 1000\n    };\n    Z[WH.Types.AZERITE_ESSENCE] = {\n      name: \"Azerite Essence\",\n      path: \"azerite-essence\",\n      mobile: false,\n      data: {},\n      maxId: 100\n    };\n    Z[WH.Types.STORYLINE] = {\n      name: \"Storyline\",\n      path: \"storyline\",\n      mobile: false,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.ADVENTURE_COMBATANT_ABILITY] = {\n      name: \"Adventure Combatant Ability\",\n      path: \"adventure-combatant-ability\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.GUIDE] = {\n      name: \"Guide\",\n      path: \"guide\",\n      mobile: false,\n      data: {}\n    };\n    Z[WH.Types.TRANSMOG_SET] = {\n      name: \"Transmog Set\",\n      path: \"transmog-set\",\n      mobile: true,\n      data: {},\n      maxId: 50000\n    };\n    Z[WH.Types.OUTFIT] = {\n      name: \"Outfit\",\n      path: \"outfit\",\n      mobile: true,\n      data: {}\n    };\n    Z[WH.Types.PET_ABILITY] = {\n      name: \"Battle Pet Ability\",\n      path: \"pet-ability\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    const S = WH.wowheadRemote;\n    const z = WH.TERMS || {\n      genericequip_tip: '<span class=\"q2\">Equip: Increases your $1 by <!--rtg$2-->$3&nbsp;<small>(<!--rtg%$2-->0&nbsp;@&nbsp;L<!--lvl-->0)</small>.</span><br />',\n      reforged_format: \"Reforged ($1 $2 &rarr; $1 $3)\"\n    };\n    const aU = S;\n    const y = false;\n    const aA = {\n      applyto: 3\n    };\n    const M = document.getElementsByTagName(\"head\")[0];\n    const aQ = aF = {\n      attach: 3,\n      attachToIcon: 1,\n      attachWithoutScreenshot: 4,\n      \"float\": 0,\n      floatWithoutIcon: 5,\n      screen: 2\n    };\n    const w = 550;\n    const aY = {\n      colorLinks: \"colorlinks\",\n      iconizeLinks: \"iconizelinks\",\n      renameLinks: \"renamelinks\"\n    };\n    const al = E = U = ay = m = ar = aw = av = aq = aF[\"float\"];\n    let G = false;\n    const af = null;\n    const F = 1;\n    const D = 1;\n    const O = 0;\n    const ag = 1;\n    const aE = 2;\n    const d = 3;\n    const ao = 4;\n    const u = 5;\n    const ae = 1;\n    const V = 2;\n    const t = 3;\n    const j = 4;\n    const aK = 5;\n    const ai = 6;\n    const Y = 7;\n    const aa = 10;\n    const k = 12;\n    const X = 13;\n    const h = 17;\n    const aG = 20;\n    const ad = 21;\n    const B = 22;\n    const aL = 23;\n    const q = 25;\n    const aj = 26;\n    const n = 27;\n    const N = 28;\n    const aX = 30;\n    const aS = 38;\n    const b = 40;\n    const aP = 42;\n    const T = 43;\n    const J = 44;\n    const aH = 46;\n    TYPE_GUIDE = 100, TYPE_TRANSMOGSET = 101, TYPE_OUTFIT = 110, TYPE_PETABILITY = 200, ICONIZE_TYPES = [aa, T, aP, t, ai], CURSOR_HSPACE = 15, CURSOR_VSPACE = 15, _LANG = {\n      0: {\n        achievementComplete: \"Achievement earned by $1 on $2/$3/$4\",\n        loading: \"Loadingâ€¦\",\n        noResponse: \"No response from server :(\",\n        notFound: \"%s Not Found\"\n      },\n      1: {\n        achievementComplete: \"$1ì´(ê°€) $2/$3/$4ì— ì—…ì ì„ ë‹¬ì„±í•¨\",\n        loading: \"ë¡œë”© ì¤‘â€¦\",\n        noResponse: \"ì„œë²„ê°€ ì‘ë‹µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ :(\",\n        notFound: \"%s ì„(ë¥¼) ì°¾ì„ ìˆ˜ ì—†ìŒ\"\n      },\n      2: {\n        achievementComplete: \"Haut-fait reÃ§u par $1 le $2/$3/$4\",\n        loading: \"Chargementâ€¦\",\n        noResponse: \"Pas de rÃ©ponse du serveur :(\",\n        notFound: \"%s non trouvÃ©\"\n      },\n      3: {\n        achievementComplete: \"Erfolg wurde von $1 am $3.$2.$4 errungen\",\n        loading: \"LÃ¤dtâ€¦\",\n        noResponse: \"Keine Antwort vom Server :(\",\n        notFound: \"%s nicht gefunden\"\n      },\n      4: {\n        achievementComplete: \"$1åœ¨$2/$3/$4ä¸ŠèŽ·å¾—æˆå°±\",\n        loading: \"æ­£åœ¨è½½å…¥â€¦\",\n        noResponse: \"æœåŠ¡å™¨æ²¡æœ‰å“åº” :(\",\n        notFound: \"%sæœªæ‰¾åˆ°\"\n      },\n      6: {\n        achievementComplete: \"Logro conseguido por $1 el $2/$3/$4\",\n        loading: \"Cargandoâ€¦\",\n        noResponse: \"No hay respuesta del servidor :(\",\n        notFound: \"%s no encontrado/a\"\n      },\n      7: {\n        achievementComplete: \"$1 Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð»(Ð°) ÑÑ‚Ð¾ Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ðµ $2/$3/$4\",\n        loading: \"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°â€¦\",\n        noResponse: \"ÐÐµÑ‚ Ð¾Ñ‚Ð²ÐµÑ‚Ð° Ð¾Ñ‚ ÑÐµÑ€Ð²ÐµÑ€Ð° :(\",\n        notFound: \"%s Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾\"\n      },\n      8: {\n        achievementComplete: \"Conquista conseguida por $1 em $3/$2/$4\",\n        loading: \"Carregandoâ€¦\",\n        noResponse: \"Sem resposta do servidor :(\",\n        notFound: \"%s nÃ£o encontrado(a)\"\n      },\n      9: {\n        achievementComplete: \"Impresa compiuta da $1 su $2/$3/$4\",\n        loading: \"Caricamentoâ€¦\",\n        noResponse: \"Nessuna risposta dal server :(\",\n        notFound: \"%s Non Trovato\"\n      }\n    }, STEALTH_TYPES = [TYPE_GUIDE];\n    const ac = new function () {\n      const a3 = {};\n      const a2 = {};\n      const a1 = {};\n      const a0 = {};\n\n      this.fetch = (a6, a7) => {\n        if (!a0.hasOwnProperty(a6) || a0[a6].hasOwnProperty(a7)) {\n          return;\n        }\n\n        a0[a6][a7] = ag;\n        a3[a6][a7] = [];\n        let subdomain = WH.dataEnvKey[a7];\n\n        switch (a7) {\n          case WH.dataEnv.BETA:\n            subdomain = WH.BETA_DOMAIN || subdomain;\n            break;\n\n          case WH.dataEnv.MAIN:\n            subdomain = \"www\";\n            break;\n        }\n\n        let url;\n\n        if (S) {\n          url = ak(subdomain) + a2[a6];\n        } else {\n          url = WH.Url.getDataPageUrl(a2[a6].replace(\"/data/\", \"\"));\n        }\n\n        url += \"&json\";\n        WH.xhrJsonRequest(url, ((a8, ba, a9) => {\n          if (!a9) {\n            WH.error(\"Wowhead tooltips failed to load entity scaling data.\", ax(a8));\n            return;\n          }\n\n          ac.setData(a8, ba, a9);\n        }).bind(null, a6, a7));\n      };\n\n      this.getSpellsBySpec = (a6, a7) => {\n        const a8 = U || WH.getDataEnv();\n        this.registerCallback(X, a8, () => {\n          const ba = a1[X][a8];\n          const a9 = [];\n\n          if (ba.specMap.hasOwnProperty(a6)) {\n            a9 = ba[\"class\"][ba.specMap[a6]].concat(ba.spec[a6] || []);\n          }\n\n          a7(a9);\n        });\n      };\n\n      this.isLoaded = (a6, a7) => {\n        if (!a0.hasOwnProperty(a6)) {\n          return true;\n        }\n\n        if (a0[a6][a7] === ao) {\n          a4();\n          return true;\n        }\n\n        return false;\n      };\n\n      this.registerCallback = (a6, a8, a7) => {\n        if (this.isLoaded(a6, a8)) {\n          window.requestAnimationFrame(a7);\n          return;\n        }\n\n        if (!a3[a6].hasOwnProperty(a8)) {\n          this.fetch(a6, a8);\n        }\n\n        a3[a6][a8].push(a7);\n      };\n\n      this.setData = (a7, a9, a8) => {\n        a0[a7][a9] = ao;\n        a3[a7][a9] = a3[a7][a9] || [];\n        a1[a7][a9] = a8;\n        a4();\n        const a6 = a3[a7][a9];\n\n        while (a6.length) {\n          a6.shift()();\n        }\n      };\n\n      const a5 = () => {\n        a2[t] = \"/data/item-scaling\";\n        a2[ai] = \"/data/spell-scaling\";\n        a2[X] = \"/data/spec-spells\";\n\n        for (const a6 in a2) {\n          if (!a2.hasOwnProperty(a6)) {\n            continue;\n          }\n\n          a0[a6] = {};\n          a3[a6] = {};\n          a1[a6] = {};\n        }\n      };\n\n      const a4 = () => {\n        const a7 = U || WH.getDataEnv();\n        let a6 = null;\n\n        if (a6 = a1[t][a7]) {\n          WH.staminaFactor = a6.staminaByIlvl;\n          WH.convertRatingToPercent.RB = a6.combatRatingsBase;\n          WH.convertRatingToPercent.LH = a6.ratingsToPercentLH;\n          WH.convertRatingToPercent.RM = a6.ratingsToPercentRM;\n          WH.convertRatingToPercent.LT = a6.ratingsToPercentLT;\n          WH.convertScalingFactor.SV = a6.itemScalingValue;\n          WH.convertScalingFactor.SD = a6.scalingFactors;\n          WH.curvePoints = a6.curvePoints;\n          WH.applyStatModifications.ScalingData = a6.scalingData;\n          WH.Tooltip.ARTIFACT_KNOWLEDGE_MULTIPLIERS = a6.artifactKnowledgeMultiplier;\n          WH.Tooltip.BONUS_ITEM_EFFECTS = a6.bonusEffects.bonus;\n          WH.Tooltip.ITEM_EFFECT_NAMES = a6.bonusEffects.effectSpellName;\n          WH.Tooltip.ITEM_EFFECT_TOOLTIP_HTML = a6.bonusEffects.effect;\n          WH.contentTuningLevels = a6.contentTuningLevels;\n        }\n\n        if (a6 = a1[ai][a7]) {\n          WH.convertScalingSpell.SV = a6.scalingValue;\n          WH.convertScalingSpell.SpellInformation = a6.spellInformation;\n          WH.convertScalingSpell.RandPropPoints = a6.randPropPoints;\n        }\n      };\n\n      a5();\n    }();\n    this.setScales = ac.setData;\n    const p = {\n      0: \"enus\",\n      1: \"kokr\",\n      2: \"frfr\",\n      3: \"dede\",\n      4: \"zhcn\",\n      6: \"eses\",\n      7: \"ruru\",\n      8: \"ptbr\",\n      9: \"itit\"\n    };\n    const ab = {\n      getId: () => {\n        return 0;\n      },\n      getName: () => {\n        return \"enus\";\n      }\n    };\n\n    if (typeof aR === \"undefined\") {\n      const aR = {\n        traits: {\n          agi: [\"Agility\", \"Agi\", \"Agi\"],\n          arcres: [\"Arcane resistance\", \"Arcane Resist\", \"ArcR\"],\n          arcsplpwr: [\"Arcane spell power\", \"Arcane Power\", \"ArcP\"],\n          armor: [\"Armor\", \"Armor\", \"Armor\"],\n          armorbonus: [\"Additional armor\", \"Bonus Armor\", \"AddAr\"],\n          armorpenrtng: [\"Armor penetration rating\", \"Armor Pen\", \"Pen\"],\n          atkpwr: [\"Attack power\", \"AP\", \"AP\"],\n          block: [\"Block value\", \"Block Value\", \"BkVal\"],\n          blockrtng: [\"Block rating\", \"Block\", \"Block\"],\n          critstrkrtng: [\"Critical strike rating\", \"Crit\", \"Crit\"],\n          defrtng: [\"Defense rating\", \"Defense\", \"Def\"],\n          dmg: [\"Weapon damage\", \"Damage\", \"Dmg\"],\n          dmgmax1: [\"Maximum damage\", \"Max Damage\", \"Max\"],\n          dmgmin1: [\"Minimum damage\", \"Min Damage\", \"Min\"],\n          dodgertng: [\"Dodge rating\", \"Dodge\", \"Dodge\"],\n          dps: [\"Damage per second\", \"DPS\", \"DPS\"],\n          exprtng: [\"Expertise rating\", \"Expertise\", \"Exp\"],\n          firres: [\"Fire resistance\", \"Fire Resist\", \"FirR\"],\n          firsplpwr: [\"Fire spell power\", \"Fire Power\", \"FireP\"],\n          frores: [\"Frost resistance\", \"Frost Resist\", \"FroR\"],\n          frosplpwr: [\"Frost spell power\", \"Frost Power\", \"FroP\"],\n          hastertng: [\"Haste rating\", \"Haste\", \"Haste\"],\n          health: [\"Health\", \"Health\", \"Hlth\"],\n          healthrgn: [\"Health regeneration\", \"HP5\", \"HP5\"],\n          hitrtng: [\"Hit rating\", \"Hit\", \"Hit\"],\n          holres: [\"Holy resistance\", \"Holy Resist\", \"HolR\"],\n          holsplpwr: [\"Holy spell power\", \"Holy Power\", \"HolP\"],\n          \"int\": [\"Intellect\", \"Int\", \"Int\"],\n          level: [\"Level\", \"Level\", \"Lvl\"],\n          mana: [\"Mana\", \"Mana\", \"Mana\"],\n          manargn: [\"Mana regeneration\", \"MP5\", \"MP5\"],\n          mastrtng: [\"Mastery rating\", \"Mastery\", \"Mastery\"],\n          mleatkpwr: [\"Melee attack power\", \"Melee AP\", \"AP\"],\n          mlecritstrkrtng: [\"Melee critical strike rating\", \"Melee Crit\", \"Crit\"],\n          mledmgmax: [\"Melee maximum damage\", \"Melee Max Damage\", \"Max\"],\n          mledmgmin: [\"Melee minimum damage\", \"Melee Min Damage\", \"Min\"],\n          mledps: [\"Melee DPS\", \"Melee DPS\", \"DPS\"],\n          mlehastertng: [\"Melee haste rating\", \"Melee Haste\", \"Haste\"],\n          mlehitrtng: [\"Melee hit rating\", \"Melee Hit\", \"Hit\"],\n          mlespeed: [\"Melee speed\", \"Melee Speed\", \"Speed\"],\n          natres: [\"Nature resistance\", \"Nature Resist\", \"NatR\"],\n          natsplpwr: [\"Nature spell power\", \"Nature Power\", \"NatP\"],\n          nsockets: [\"Number of sockets\", \"Sockets\", \"Sockt\"],\n          parryrtng: [\"Parry rating\", \"Parry\", \"Parry\"],\n          reqarenartng: [\"Required personal and team arena rating\", \"Req Rating\", \"Rating\"],\n          reqlevel: [\"Required level\", \"Req Level\", \"Level\"],\n          resirtng: [\"PvP Resilience rating\", \"PvP Resilience\", \"Resil\"],\n          rgdatkpwr: [\"Ranged attack power\", \"Ranged AP\", \"RAP\"],\n          rgdcritstrkrtng: [\"Ranged critical strike rating\", \"Ranged Crit\", \"Crit\"],\n          rgddmgmax: [\"Ranged maximum damage\", \"Ranged Max Damage\", \"Max\"],\n          rgddmgmin: [\"Ranged minimum damage\", \"Ranged Min Damage\", \"Min\"],\n          rgddps: [\"Ranged DPS\", \"Ranged DPS\", \"DPS\"],\n          rgdhastertng: [\"Ranged haste rating\", \"Ranged Haste\", \"Haste\"],\n          rgdhitrtng: [\"Ranged hit rating\", \"Ranged Hit\", \"Hit\"],\n          rgdspeed: [\"Ranged speed\", \"Ranged Speed\", \"Speed\"],\n          sepbasestats: \"Base stats\",\n          sepdefensivestats: \"Defensive stats\",\n          sepindividualstats: \"Individual stats\",\n          sepoffensivestats: \"Offensive stats\",\n          sepresistances: \"Resistances\",\n          sepweaponstats: \"Weapon stats\",\n          shares: [\"Shadow resistance\", \"Shadow Resist\", \"ShaR\"],\n          shasplpwr: [\"Shadow spell power\", \"Shadow Power\", \"ShaP\"],\n          speed: [\"Speed\", \"Speed\", \"Speed\"],\n          spi: [\"Spirit\", \"Spi\", \"Spi\"],\n          splcritstrkrtng: [\"Spell critical strike rating\", \"Spell Crit\", \"Crit\"],\n          spldmg: [\"Damage done by spells\", \"Spell Damage\", \"Dmg\"],\n          splheal: [\"Healing done by spells\", \"Healing\", \"Heal\"],\n          splpwr: [\"Spell power\", \"Spell Power\", \"SP\"],\n          splhastertng: [\"Spell haste rating\", \"Spell Haste\", \"Haste\"],\n          splhitrtng: [\"Spell hit rating\", \"Spell Hit\", \"Hit\"],\n          splpen: [\"Spell penetration\", \"Spell Pen\", \"Pen\"],\n          sta: [\"Stamina\", \"Sta\", \"Sta\"],\n          str: [\"Strength\", \"Str\", \"Str\"],\n          pvppower: [\"PvP Power\", \"PvPPower\", \"PvPPower\"]\n        }\n      };\n    }\n\n    const au = () => {\n      if (WH.Tooltip) {\n        WH.wowheadRemotePreload = true;\n      }\n\n      if (S) {\n        if (!WH.wowheadRemotePreload) {\n          let jsFiles = [\"basic.js?41\"];\n\n          if (g(\"iconSize\")) {\n            jsFiles.push(\"global/WH/Icon.js?2\");\n          }\n\n          for (let i = 0, jsFile; jsFile = jsFiles[i]; i++) {\n            let script = document.createElement(\"script\");\n            script.src = WH.staticUrl + \"/js/\" + jsFile;\n            M.appendChild(script);\n          }\n        }\n      } else {\n        Q();\n        r(() => {\n          ab = window.Locale;\n          ac.fetch(t, WH.getDataEnv());\n          ac.fetch(ai, WH.getDataEnv());\n        });\n      }\n    };\n\n    const az = () => {\n      const a1 = g(\"hide\");\n\n      if (!a1) {\n        return;\n      }\n\n      if (typeof aQ !== \"undefined\") {\n        return;\n      }\n\n      if (!document.styleSheets) {\n        return;\n      }\n\n      const a2 = document.createElement(\"style\");\n      a2.type = \"text/css\";\n      M.appendChild(a2);\n\n      if (!window.createPopup) {\n        M.appendChild(document.createTextNode(\"\"));\n      }\n\n      aQ = document.styleSheets[document.styleSheets.length - 1];\n\n      for (const a0 in a1) {\n        if (!a1.hasOwnProperty(a0) || !a1[a0]) {\n          continue;\n        }\n\n        if (aQ.insertRule) {\n          aQ.insertRule(\".wowhead-tooltip .whtt-\" + a0 + \"{display: none}\", aQ.cssRules.length);\n        } else {\n          if (aQ.addRule) {\n            aQ.addRule(\".wowhead-tooltip .whtt-\" + a0, \"display: none\", -1);\n          }\n        }\n      }\n    };\n\n    this.getEntity = (a1, a4, a3, a0) => {\n      const a2 = aW(a1);\n      a2[a4] = a2[a4] || {};\n      a2[a4][a3] = a2[a4][a3] || {};\n      a2[a4][a3][a0] = a2[a4][a3][a0] || {\n        status: O,\n        callbacks: [],\n        data: {}\n      };\n      return a2[a4][a3][a0];\n    };\n\n    const aW = a0 => {\n      if (typeof Z[a0] !== \"object\") {\n        throw new Error(\"Wowhead tooltips could not find config for entity type [\" + a0 + \"].\");\n      }\n\n      return Z[a0].data;\n    };\n\n    const aN = a0 => {\n      if (typeof Z[a0] !== \"object\") {\n        WH.error(\"Wowhead tooltips could not find config for entity type.\", a0);\n        return undefined;\n      }\n\n      if (!WH.wowheadRemote || !Z[a0].hasOwnProperty(\"maxId\")) {\n        return undefined;\n      }\n\n      return {\n        min: Z[a0].hasOwnProperty(\"minId\") ? Z[a0].minId : 1,\n        max: Z[a0].maxId\n      };\n    };\n\n    const ax = a0 => {\n      if (typeof Z[a0] !== \"object\") {\n        WH.error(\"Wowhead tooltips could not find config for entity type.\", a0);\n        return \"Entity\";\n      }\n\n      return Z[a0].name;\n    };\n\n    const ap = a0 => {\n      if (typeof Z[a0] !== \"object\") {\n        WH.error(\"Wowhead tooltips could not find config for entity type.\", a0);\n        return \"unknown\";\n      }\n\n      return Z[a0].path;\n    };\n\n    const a = (a0, a1) => {\n      const a2 = _LANG[a0] || _LANG[0];\n      return a2[a1] || \"\";\n    };\n\n    const g = a1 => {\n      const a0 = R();\n\n      if (!a0) {\n        return null;\n      }\n\n      if (!a0.hasOwnProperty(a1)) {\n        if (aY[a1] && a0.hasOwnProperty(aY[a1])) {\n          return a0[aY[a1]];\n        }\n\n        return null;\n      }\n\n      return a0[a1];\n    };\n\n    const R = () => {\n      if (typeof whTooltips === \"object\") {\n        return whTooltips;\n      }\n\n      if (typeof wowhead_tooltips === \"object\") {\n        return wowhead_tooltips;\n      }\n\n      return null;\n    };\n\n    const aJ = a0 => {\n      if (typeof Z[a0] !== \"object\") {\n        WH.error(\"Wowhead tooltips could not find config for entity type.\", a0);\n        return false;\n      }\n\n      return Z[a0].mobile;\n    };\n\n    const Q = () => {\n      if (G) {\n        return;\n      }\n\n      G = true;\n      WH.aE(document, \"keydown\", a0 => {\n        switch (a0.keyCode) {\n          case 27:\n            $WowheadPower.clearTouchTooltip();\n            WH.Tooltip.hide();\n            break;\n        }\n      }); // if (WH.isTouch()) {\n      // f()\n      // } else {\n\n      WH.aE(document, \"mouseover\", H); // }\n    };\n\n    this.attachTouchTooltips = a0 => {\n      if (!WH.isTouch()) {\n        return;\n      }\n\n      if (a0 && a0.nodeType === 1) {\n        f(a0);\n      }\n    };\n\n    const r = a0 => {\n      if (document.readyState === \"loading\") {\n        document.addEventListener(\"DOMContentLoaded\", a0);\n      } else {\n        a0();\n      }\n    };\n\n    const am = a0 => {\n      if (!a0.dataset || a0.dataset.hasWhTouchEvent === \"true\") {\n        return;\n      }\n\n      if (a0.onclick == null) {\n        a0.onclick = o;\n      } else {\n        WH.aE(a0, \"click\", o);\n      }\n\n      a0.dataset.hasWhTouchEvent = \"true\";\n    };\n\n    const f = a0 => {\n      if (!WH.isTouch()) {\n        return;\n      }\n\n      r(() => {\n        a0 = a0 || document.body;\n        const a2 = WH.gE(a0, \"a\");\n\n        for (const a3 = 0, a1 = a2.length; a3 < a1; a3++) {\n          am(a2[a3]);\n        }\n      });\n    };\n\n    this.init = () => {\n      if (g(\"iconSize\") && typeof Icon === \"undefined\") {\n        setTimeout($WowheadPower.init, 10);\n        return;\n      }\n\n      if (S) {\n        if (!WH.wowheadRemotePreload) {\n          WH.ae(M, WH.ce(\"link\", {\n            type: \"text/css\",\n            href: WH.staticUrl + \"/css/basic.css?16\",\n            rel: \"stylesheet\"\n          }));\n\n          if (g(\"iconSize\")) {\n            WH.ae(M, WH.ce(\"link\", {\n              type: \"text/css\",\n              href: WH.staticUrl + \"/css/global/icon.css\",\n              rel: \"stylesheet\"\n            }));\n          }\n        }\n      }\n\n      Q();\n      r(() => {\n        if (g(\"renameLinks\") || g(\"colorLinks\") || g(\"iconizeLinks\") || g(\"iconSize\")) {\n          let links = x();\n\n          for (let i = 0; i < links.length; i++) {\n            I(links[i]);\n          }\n\n          az();\n        } else {\n          if (document.querySelectorAll) {\n            let calcLinks = document.querySelectorAll('a[href*=\"wowhead.com/talent-calc/embed/\"]');\n\n            for (let i = 0; i < calcLinks.length; i++) {\n              I(calcLinks[i]);\n            }\n\n            calcLinks = document.querySelectorAll('a[href*=\"wowhead.com/soulbind-calc/embed/\"]');\n\n            for (let i = 0; i < calcLinks.length; i++) {\n              I(calcLinks[i]);\n            }\n          }\n        }\n      });\n    };\n\n    const L = a0 => {\n      let pos = WH.getCursorPos(a0);\n      aw = pos.x;\n      av = pos.y;\n    };\n\n    const an = (a1, a2) => {\n      if (a1.classList) {\n        for (let i = 0, len = a2.length; i < len; i++) {\n          a1.classList.add(a2[i]);\n        }\n      } else {\n        for (const a0 = 0; a0 < a2.length; a0++) {\n          let classAttribute = a1.getAttribute && a1.getAttribute(\"class\") || \"\";\n\n          if ((\" \" + classAttribute + \" \").indexOf(\" \" + a2[a0] + \" \") < 0) {\n            a1.setAttribute(\"class\", (classAttribute ? classAttribute + \" \" : \"\") + a2[a0]);\n          }\n        }\n      }\n    };\n\n    const x = () => {\n      let result = [];\n\n      for (let i = 0; i < document.links.length; i++) {\n        result.push(document.links[i]);\n      }\n\n      return result;\n    };\n\n    const I = (a3, bh, a1) => {\n      if (bh && a3.dataset && a3.dataset.simpleTooltip) {\n        if (!WH.isTouch() && !a3.onmouseout) {\n          if (a3.dataset.tooltipMode !== \"attach\") {\n            a3.onmousemove = aC;\n          }\n\n          a3.onmouseout = ah;\n        }\n\n        WH.Tooltip.show(a3, a3.dataset.simpleTooltip.length < 30 ? '<div class=\"no-wrap\">' + a3.dataset.simpleTooltip + \"</div>\" : a3.dataset.simpleTooltip);\n        return c;\n      }\n\n      if (a3.nodeName !== \"A\" && a3.nodeName !== \"AREA\") {\n        return aM;\n      }\n\n      const a5 = a3.rel;\n\n      try {\n        if (a3.dataset && a3.dataset.hasOwnProperty(\"wowhead\")) {\n          a5 = a3.dataset.wowhead;\n        } else {\n          if (a3.getAttribute && a3.getAttribute(\"data-wowhead\")) {\n            console.log(a3.getAttribute(\"data-wowhead\"));\n            a5 = a3.getAttribute(\"data-wowhead\");\n          }\n        }\n      } catch (bl) {\n        void 0;\n      }\n\n      if (!a3.href.length && !a5 || a5 && /^np\\b/.test(a5) || a3.getAttribute(\"data-disable-wowhead-tooltip\") === \"true\" || WH.isTouch() && a3.getAttribute(\"data-disable-wowhead-touch-tooltip\") === \"true\") {\n        return l;\n      }\n\n      let tcRegex = /^https?:\\/\\/(?:[^/]+\\.)?(classic|tbc|wotlk)\\.(?:[^/]+\\.)?wowhead\\.com\\/talent-calc\\/embed\\/[^#]+/;\n      let tcMatches = a3.href.match(tcRegex);\n\n      if (S && tcMatches) {\n        let height = 513;\n        let width = 750;\n\n        if (tcMatches[1] === \"tbc\") {\n          height += 120;\n        } else {\n          if (tcMatches[1] === \"wotlk\") {\n            height += 240;\n          }\n        }\n\n        let paddingTop = height / width * 100 + \"%\";\n        a3.parentNode.replaceChild(WH.ce(\"div\", {\n          style: {\n            margin: \"10px auto\",\n            maxHeight: height + \"px\",\n            maxWidth: width + \"px\"\n          },\n          className: \"wowhead-embed wowhead-embed-talent-calc\"\n        }, WH.ce(\"div\", {\n          style: {\n            height: 0,\n            paddingTop: paddingTop,\n            position: \"relative\",\n            width: \"100%\"\n          }\n        }, WH.ce(\"iframe\", {\n          src: tcMatches[0],\n          width: \"100%\",\n          height: \"100%\",\n          style: {\n            border: 0,\n            left: 0,\n            position: \"absolute\",\n            top: 0,\n            borderRadius: \"6px\"\n          },\n          sandbox: \"allow-scripts allow-top-navigation\"\n        }))), a3);\n        return c;\n      }\n\n      let scRegex = /^https?:\\/\\/(?:[^/]+\\.)?wowhead\\.com\\/soulbind-calc\\/embed\\/.+/;\n      let scMatches = a3.href.match(scRegex);\n\n      if (S && scMatches) {\n        a3.parentNode.replaceChild(WH.ce(\"div\", {\n          style: {\n            maxWidth: \"734px\",\n            maxHeight: \"722px\",\n            margin: \"10px auto\"\n          },\n          className: \"wowhead-embed wowhead-embed-soulbind-calc\"\n        }, WH.ce(\"div\", {\n          style: {\n            position: \"relative\",\n            width: \"100%\",\n            height: 0,\n            paddingTop: \"98.5%\"\n          }\n        }, WH.ce(\"iframe\", {\n          src: scMatches[0],\n          width: \"100%\",\n          height: \"100%\",\n          style: {\n            border: 0,\n            left: 0,\n            position: \"absolute\",\n            top: 0,\n            borderRadius: \"6px\"\n          },\n          sandbox: \"allow-scripts allow-top-navigation\"\n        }))), a3);\n        return c;\n      }\n\n      let params = {};\n      m = params;\n\n      const a4 = (bn, bo, bp) => {\n        switch (bo) {\n          case \"buff\":\n          case \"map\":\n          case \"noimage\":\n          case \"nomajor\":\n          case \"notip\":\n          case \"premium\":\n          case \"pvp\":\n          case \"sock\":\n          case \"text\":\n          case \"twcata\":\n          case \"twmists\":\n          case \"twtbc\":\n          case \"twwotlk\":\n            params[bo] = true;\n            break;\n\n          case \"artk\":\n          case \"c\":\n          case \"class\":\n          case \"dd\":\n          case \"ddsize\":\n          case \"diff\":\n          case \"diffnew\":\n          case \"ench\":\n          case \"gem1lvl\":\n          case \"gem2lvl\":\n          case \"gem3lvl\":\n          case \"ilvl\":\n          case \"level\":\n          case \"lvl\":\n          case \"nlc\":\n          case \"pwr\":\n          case \"q\":\n          case \"rand\":\n          case \"rank\":\n          case \"spec\":\n          case \"tink\":\n          case \"upgd\":\n            params[bo] = parseInt(bp);\n            break;\n\n          case \"abil\":\n          case \"azerite-essence-powers\":\n          case \"azerite-powers\":\n          case \"bonus\":\n          case \"crafted-stats\":\n          case \"cri\":\n          case \"forg\":\n          case \"gem1bonus\":\n          case \"gem2bonus\":\n          case \"gem3bonus\":\n          case \"gems\":\n          case \"know\":\n          case \"pcs\":\n          case \"rewards\":\n            params[bo] = bp.split(\":\");\n            break;\n\n          case \"build\":\n          case \"domain\":\n          case \"who\":\n            params[bo] = bp;\n            break;\n\n          case \"image\":\n            if (bp === \"premium\") {\n              params[bp] = true;\n            } else {\n              params[bo] = bp ? \"_\" + bp : \"\";\n            }\n\n            break;\n\n          case \"transmog\":\n            if (bp === \"hidden\") {\n              params[bo] = bp;\n            } else {\n              params[bo] = parseInt(bp);\n            }\n\n            break;\n\n          case \"when\":\n            params[bo] = new Date(parseInt(bp));\n            break;\n        }\n      };\n\n      let rawDomain;\n      let typeName;\n      let id;\n      let url;\n\n      if (aA.applyto & 1) {\n        if (a3.href.indexOf(\"http://\") === 0 || a3.href.indexOf(\"https://\") === 0) {\n          let matches = a3.href.match(/^https?:\\/\\/(.+?)?\\.?(?:wowhead)\\.com(?:\\:\\d+)?\\/\\??(item|quest|spell|zone|achievement|event|itemset|item-set|transmog-set|outfit|guide|statistic|currency|npc|object|pet-ability|petability|building|follower|champion|bfa-champion|garrisonability|mission-ability|mission|ship|threat|resource|order-advancement|affix|azerite-essence|azerite-essence-power|storyline|adventure-combatant-ability|mount|recipe|battle-pet)[=/](?:[^/?&#]+-)?(-?\\d+(?:\\.\\d+)?)/);\n\n          if (!matches) {\n            matches = a3.href.match(/^https?:\\/\\/(.+?)?\\.?(?:wowhead)\\.com(?:\\:\\d+)?\\/(guide)s\\/([^\\?&#]+)/);\n          }\n\n          if (matches) {\n            rawDomain = matches[1];\n            typeName = matches[2];\n            id = matches[3];\n            url = a3.href;\n          }\n\n          D = 0;\n        } else {\n          let matches = a3.href.match(/\\/\\??(item|quest|spell|zone|achievement|event|itemset|item-set|transmog-set|outfit|statistic|currency|npc|object|pet-ability|petability|building|follower|champion|bfa-champion|garrisonability|mission-ability|mission|ship|threat|resource|order-advancement|affix|azerite-essence|azerite-essence-power|storyline|adventure-combatant-ability|guide|mount|recipe|battle-pet)[=/](?:[^/?&#]+-)?(-?\\d+(?:\\.\\d+)?)/);\n\n          if (!matches) {\n            matches = a3.href.match(/\\/(guide)s\\/([^\\?&#]+)/);\n          }\n\n          if (matches) {\n            typeName = matches[1];\n            id = matches[2];\n            url = a3.href;\n          }\n\n          D = 1;\n        }\n      }\n\n      if (!typeName && a5 && aA.applyto & 2) {\n        let matches = a5.match(/(item|quest|spell|zone|achievement|event|itemset|item-set|transmog-set|outfit|statistic|currency|npc|object|pet-ability|petability|building|follower|champion|bfa-champion|garrisonability|mission-ability|mission|ship|threat|resource|order-advancement|affix|azerite-essence|azerite-essence-power|storyline|adventure-combatant-ability|guide|mount|recipe|battle-pet).?(-?\\d+(?:\\.\\d+)?)/);\n\n        if (matches) {\n          typeName = matches[1];\n          id = matches[2];\n        }\n\n        D = 1;\n      }\n\n      if (!typeName) {\n        return l;\n      }\n\n      let type = WH.getTypeIdFromTypeString(typeName);\n\n      if (WH.isTouch() && !a1 && !aJ(type)) {\n        return l;\n      }\n\n      a3.href.replace(/([a-zA-Z0-9-]+)=?([^&?#]*)/g, a4);\n\n      if (a5) {\n        a5.replace(/([a-zA-Z0-9-]+)=?([^&?#]*)/g, a4);\n      }\n\n      if (params.gems && params.gems.length > 0) {\n        let bi = null;\n\n        for (bi = Math.min(3, params.gems.length - 1); bi >= 0; --bi) {\n          if (parseInt(params.gems[bi])) {\n            break;\n          }\n        }\n\n        ++bi;\n\n        if (bi == 0) {\n          delete params.gems;\n        } else {\n          if (bi < params.gems.length) {\n            params.gems = params.gems.slice(0, bi);\n          }\n        }\n      }\n\n      const a2 = [\"bonus\", \"gem1bonus\", \"gem2bonus\", \"gem3bonus\"];\n\n      for (let bc = 0; a6 = a2[bc]; bc++) {\n        if (params[a6] && params[a6].length > 0) {\n          for (bi = Math.min(16, params[a6].length - 1); bi >= 0; --bi) {\n            if (parseInt(params[a6][bi])) {\n              break;\n            }\n          }\n\n          ++bi;\n\n          if (bi == 0) {\n            delete params[a6];\n          } else {\n            if (bi < params[a6].length) {\n              params[a6] = params[a6].slice(0, bi);\n            }\n          }\n        }\n      }\n\n      if (params[\"crafted-stats\"] && params[\"crafted-stats\"].length > 0) {\n        let statsList = [];\n\n        for (let bi = 0; bi < Math.min(2, params[\"crafted-stats\"].length); bi++) {\n          let statId = parseInt(params[\"crafted-stats\"][bi]);\n\n          if (!isNaN(statId)) {\n            statsList.push(statId);\n          }\n        }\n\n        if (statsList.length == 0) {\n          delete params[\"crafted-stats\"];\n        } else {\n          params[\"crafted-stats\"] = statsList;\n        }\n      }\n\n      if (params.abil && params.abil.length > 0) {\n        const bi = bk = [];\n        let bg = null;\n\n        for (bi = 0; bi < Math.min(8, params.abil.length); bi++) {\n          if (bg = parseInt(params.abil[bi])) {\n            bk.push(bg);\n          }\n        }\n\n        if (bk.length == 0) {\n          delete params.abil;\n        } else {\n          params.abil = bk;\n        }\n      }\n\n      if (params.rewards && params.rewards.length > 0) {\n        let bi = null;\n\n        for (bi = Math.min(3, params.rewards.length - 1); bi >= 0; --bi) {\n          if (/^\\d+.\\d+$/.test(params.rewards[bi])) {\n            break;\n          }\n        }\n\n        ++bi;\n\n        if (bi == 0) {\n          delete params.rewards;\n        } else {\n          if (bi < params.rewards.length) {\n            params.rewards = params.rewards.slice(0, bi);\n          }\n        }\n      }\n\n      ar = a3;\n      const bm = null;\n      const bf = ab.getId();\n      const a0 = WH.getDataEnv();\n\n      if (params.domain) {\n        bm = params.domain.toLowerCase();\n      } else {\n        if (rawDomain) {\n          bm = rawDomain.toLowerCase().replace(/(?:^|\\.)(staging|dev)$/, \"\");\n        }\n      }\n\n      if (bm !== null) {\n        a0 = WH.dataEnv.MAIN;\n        bf = WH.getLocaleFromDomain(bm);\n\n        if (new RegExp(\"\\\\b\" + WH.BETA_DOMAIN + \"\\\\b\").test(bm)) {\n          a0 = WH.dataEnv.BETA;\n        } else {\n          if (/^sl|shadow$/.test(bm)) {\n            a0 = WH.dataEnv.BETA;\n          } else {\n            for (const ba in WH.dataEnv) {\n              if (!WH.dataEnv.hasOwnProperty(ba) || !WH.dataEnvKey.hasOwnProperty(WH.dataEnv[ba])) {\n                continue;\n              }\n\n              if (new RegExp(\"\\\\b(\" + WH.dataEnvTerm[WH.dataEnv[ba]] + \"|\" + WH.dataEnvKey[WH.dataEnv[ba]] + \")\\\\b\").test(bm)) {\n                a0 = WH.dataEnv[ba];\n                break;\n              }\n            }\n          }\n        }\n      }\n\n      if (a0 === WH.dataEnv.PTR && !WH.isPtrActive()) {\n        a0 = WH.dataEnv.MAIN;\n      }\n\n      if (a0 === WH.dataEnv.BETA && !WH.isBetaActive()) {\n        a0 = WH.dataEnv.MAIN;\n      }\n\n      if ([WH.dataEnv.BETA, WH.dataEnv.PTR].indexOf(a0) >= 0) {\n        bf = 0;\n      }\n\n      if (a3.href.indexOf(\"#\") !== -1 && document.location.href.indexOf(typeName + \"=\" + id) !== -1) {\n        return l;\n      }\n\n      aq = aF[\"float\"];\n\n      if (WH.isTouch() && document.documentElement.offsetWidth < w) {\n        aq = aF.screen;\n      } else {\n        if ((a3.parentNode.getAttribute && a3.parentNode.getAttribute(\"class\") || \"\").indexOf(\"icon\") === 0 && a3.parentNode.nodeName === \"DIV\" || a3.dataset.whattach === \"icon\" || a3.dataset.tooltipMode === \"icon\") {\n          aq = aF.attachToIcon;\n        } else {\n          if (WH.isTouch() || a3.dataset.whattach === \"true\" || a3.dataset.tooltipMode === \"attach\") {\n            aq = aF.attach;\n          } else {\n            if (!S) {\n              const a8 = a3.parentNode;\n              const a7 = 0;\n\n              while (a8) {\n                if ((a8.getAttribute && a8.getAttribute(\"class\") || \"\").indexOf(\"menu-inner\") === 0) {\n                  aq = aF.attachWithoutScreenshot;\n                  break;\n                }\n\n                a7++;\n\n                if (a7 > 9) {\n                  break;\n                }\n\n                a8 = a8.parentNode;\n              }\n            }\n          }\n        }\n      }\n\n      if (!WH.isTouch() && !a3.onmouseout) {\n        if (aq === aF[\"float\"]) {\n          a3.onmousemove = aC;\n        }\n\n        a3.onmouseout = ah;\n      }\n\n      if (aq === aF[\"float\"] && a3.dataset.whtticon === \"false\") {\n        aq = aF.floatWithoutIcon;\n      }\n\n      if (!S && !a3.whContextMenuAttached) {\n        a3.whContextMenuAttached = true;\n        WH.aE(a3, \"contextmenu\", A.bind(a3, a0, bf, type, typeName, id, params, url));\n      }\n\n      if (bh) {\n        y = true;\n        L(bh);\n        WH.Tooltip.showingTooltip = true;\n\n        if (typeof a3.overrideTooltip == \"object\") {\n          const bb = a3.overrideTooltip.html;\n          const a9 = a3.overrideTooltip.html2;\n\n          if (typeof a3.overrideTooltip.htmlGenerator == \"function\") {\n            bb = a3.overrideTooltip.htmlGenerator(a3.overrideTooltip);\n          }\n\n          if (typeof a3.overrideTooltip.html2Generator == \"function\") {\n            a9 = a3.overrideTooltip.html2Generator(a3.overrideTooltip);\n          }\n\n          if (a3.overrideTooltip.spanClass) {\n            bb = '<span class=\"' + a3.overrideTooltip.spanClass + '\">' + bb + \"</span>\";\n\n            if (a9) {\n              a9 = '<span class=\"' + a3.overrideTooltip.spanClass + '\">' + a9 + \"</span>\";\n            }\n          }\n\n          aV(bf, bb, a3.overrideTooltip.icon, a3.overrideTooltip.map, a3.overrideTooltip.spellData, a9, a3.overrideTooltip.image, a3.overrideTooltip.imageClass);\n        } else {\n          e(type, id, a0, bf, params);\n        }\n      }\n\n      if (bh || !R()) {\n        return c;\n      }\n\n      const bd = $WowheadPower.getEntity(type, at(type, id, params), a0, bf);\n      const be = [];\n\n      if (g(\"renameLinks\") && a3.getAttribute(\"data-wh-rename-link\") !== \"false\" || a3.getAttribute(\"data-wh-rename-link\") === \"true\") {\n        be.push(() => {\n          delete a3.dataset.whIconAdded;\n          a3.innerHTML = \"<span>\" + bd.data.name + \"</span>\";\n        });\n      }\n\n      const bj = a3.getAttribute(\"data-wh-icon-size\");\n\n      if ((bj || g(\"iconizeLinks\")) && ICONIZE_TYPES.indexOf(type) !== -1) {\n        if (!bj) {\n          bj = g(\"iconSize\");\n        }\n\n        be.push(() => {\n          if (bd.data.icon && a3.dataset.whIconAdded !== \"true\") {\n            aD(a3, bd.data, bj);\n          }\n        });\n      }\n\n      if (g(\"colorLinks\") && type === t) {\n        be.push(() => {\n          an(a3, [\"q\" + bd.data.quality]);\n        });\n      }\n\n      if (be.length) {\n        if (bd.status === O || bd.status === ag) {\n          bd.callbacks = bd.callbacks.concat(be);\n\n          if (bd.status === O) {\n            aB(type, id, a0, bf, true, params);\n          }\n        } else {\n          if (bd.status === ao || bd.status === u) {\n            while (be.length) {\n              be.shift()();\n            }\n          }\n        }\n      }\n\n      return c;\n    };\n\n    const aD = (a1, a2, a0) => {\n      if (!a0 || typeof WH.Icon === \"undefined\" || !WH.Icon.isValidSize(a0)) {\n        a0 = \"tiny\";\n      }\n\n      const a3 = a2.icon.toLocaleLowerCase();\n\n      if (a0 === \"tiny\") {\n        an(a1, [\"icontinyl\"]);\n\n        if (a1.style.setProperty) {\n          a1.style.setProperty(\"padding-left\", \"18px\", \"important\");\n        } else {\n          a1.style.paddingLeft = \"18px\";\n        }\n\n        a1.style.verticalAlign = \"center\";\n        a1.style.background = \"url(\" + WH.staticUrl + \"/images/wow/icons/tiny/\" + a3 + \".gif) left center no-repeat\";\n      } else {\n        if (a1.getAttribute(\"data-wh-icon-added\") === \"true\") {\n          return;\n        }\n\n        WH.aef(a1, WH.Icon.create(a3, a0, null, {\n          span: true\n        }));\n      }\n\n      a1.setAttribute(\"data-wh-icon-added\", \"true\");\n    };\n\n    const H = a0 => {\n      let target = a0.target;\n      let i = 0;\n\n      while (target && i < 5 && I(target, a0) === aM) {\n        target = target.parentNode;\n        i++;\n      }\n    };\n\n    const o = a0 => {\n      let target = this;\n\n      if (target.hasWHTouchTooltip === true) {\n        return;\n      }\n\n      let i = 0;\n      let result;\n\n      while (target && i < 5 && (result = I(target, a0)) === aM) {\n        target = target.parentNode;\n        i++;\n      }\n\n      if (result === c) {\n        if (af !== null) {\n          af.removeAttribute(\"data-showing-touch-tooltip\");\n          af.hasWHTouchTooltip = false;\n        }\n\n        af = target;\n        af.hasWHTouchTooltip = true;\n\n        if (a0.stopPropagation) {\n          a0.stopPropagation();\n        }\n\n        if (a0.preventDefault) {\n          a0.preventDefault();\n        }\n\n        return false;\n      }\n    };\n\n    const aC = a0 => {\n      L(a0);\n      WH.Tooltip.move(aw, av, 0, 0, CURSOR_HSPACE, CURSOR_VSPACE);\n    };\n\n    const ah = () => {\n      al = null;\n      ar = null;\n      WH.Tooltip.hide();\n    };\n\n    const ak = a2 => {\n      if (!WH.isDev()) {\n        return \"https://\" + a2 + \".wowhead.com\";\n      }\n\n      const a0 = document.location.hostname.split(\".\");\n      a0 = a0[a0.length - 3];\n\n      if (a2 === \"www\") {\n        a2 = a0;\n      } else {\n        a2 = a2 + \".\" + a0;\n      }\n\n      const a1 = \"https://\" + a2 + \".wowhead.com\";\n\n      if (document.location.port !== \"\") {\n        a1 += (document.location.port.indexOf(\":\") < 0 ? \":\" : \"\") + document.location.port;\n      }\n\n      if (document.location.protocol !== \"https:\") {\n        a1 = a1.replace(/^https:/, \"http:\");\n      }\n\n      return a1;\n    };\n\n    const s = a1 => {\n      const a0 = \"tooltip\";\n\n      if (m && m.buff) {\n        a0 = \"buff\";\n      }\n\n      if (m && m.text) {\n        a0 = \"text\";\n      }\n\n      if (m && m.premium) {\n        a0 = \"tooltip_premium\";\n      }\n\n      return a0 + (a1 || \"\");\n    };\n\n    const aT = () => {\n      return m && m.text ? \"text_icon\" : \"icon\";\n    };\n\n    const aZ = () => {\n      return (m && m.buff ? \"buff\" : \"\") + \"spells\";\n    };\n\n    const v = a0 => {\n      if (typeof a0 === \"undefined\") {\n        return \"image_NONE\";\n      }\n\n      return \"image\" + a0;\n    };\n\n    const e = (a5, a1, a2, a7, a3) => {\n      if (!a3) {\n        a3 = {};\n      }\n\n      const a6 = at(a5, a1, a3);\n      al = a5;\n      E = a6;\n      U = a2;\n      ay = a7;\n      m = a3;\n      ac.isLoaded(a5, a2);\n      const a4 = $WowheadPower.getEntity(a5, a6, a2, a7);\n\n      if (a4.status === ao || a4.status === d) {\n        const a8 = a4.data[v(a3.image)];\n        const a9 = a4.data[\"image\" + a3.image + \"_class\"];\n        const a0 = K(a5, a1, a2);\n\n        if (a0) {\n          a8 = a0[0];\n          a9 = a0[1];\n        }\n\n        aV(a7, a4.data[s()], a4.data[aT()], a4.data.map, a4.data[aZ()], a4.data[s(2)], a8, a9);\n      } else {\n        if (a4.status === ag || a4.status === u) {\n          if (WH.inArray(STEALTH_TYPES, a5) == -1) {\n            aV(a7, a(a7, \"loading\"));\n          }\n        } else {\n          aB(a5, a1, a2, a7, WH.inArray(STEALTH_TYPES, a5) != -1, a3);\n        }\n      }\n    };\n\n    const A = (a7, a0, a3, a1, a6, a5, a2, a4) => {\n      if (!a4.ctrlKey || a4.button !== 2) {\n        return;\n      }\n\n      a4.preventDefault();\n      a4.stopPropagation();\n      let menu = [];\n      let entity = $WowheadPower.getEntity(a3, at(a3, a6, a5), a7, a0);\n\n      if (entity.data.name) {\n        menu.push(Menu.createItem({\n          name: \"\",\n          label: WH.term(\"copy_format\", WH.TERMS.name),\n          url: WH.copyToClipboard.bind(undefined, entity.data.name, true)\n        }));\n      }\n\n      menu.push(Menu.createItem({\n        name: \"\",\n        label: WH.term(\"copy_format\", WH.TERMS.id),\n        url: WH.copyToClipboard.bind(undefined, a6, true)\n      }));\n      let copyableUrl = a2;\n\n      if (!copyableUrl && WH.Types.existsInDataEnv(a3)) {\n        copyableUrl = WH.Url.generate(WH.Entity.getPath(a3, a6), {\n          dataEnv: a7,\n          locale: a0\n        });\n      }\n\n      if (copyableUrl) {\n        menu.push(Menu.createItem({\n          name: \"\",\n          label: WH.term(\"copy_format\", WH.TERMS.url),\n          url: WH.copyToClipboard.bind(undefined, a2, true)\n        }));\n      }\n\n      let markupTag = C[a1] || a1;\n\n      if (WH.markup.tags[markupTag]) {\n        menu.push(Menu.createItem({\n          name: \"\",\n          label: WH.term(\"copy_format\", WH.TERMS.wowheadMarkupTag),\n          url: WH.copyToClipboard.bind(undefined, \"[\" + markupTag + \"=\" + a6 + \"]\", true)\n        }));\n      }\n\n      Menu.add(this, menu, {\n        noEvents: true,\n        showAtElement: true,\n        showImmediately: true\n      }, a4);\n    };\n\n    const aB = (ba, a1, a2, bd, a9, a3) => {\n      const bb = at(ba, a1, a3);\n      const a5 = $WowheadPower.getEntity(ba, bb, a2, bd);\n\n      if (a5.status !== O && a5.status !== aE) {\n        return;\n      }\n\n      a5.status = ag;\n      const a7 = aN(ba);\n\n      if (a7 && (parseInt(a1, 10) < a7.min || parseInt(a1, 10) > a7.max)) {\n        $WowheadPower.register(ba, a1, a2, bd, {\n          error: \"ID is out of range\"\n        });\n        return;\n      }\n\n      if (!a9) {\n        a5.timer = setTimeout(W.bind(this, ba, bb, a2, bd), 333);\n      }\n\n      const be = [];\n\n      for (const a6 in a3) {\n        switch (a6) {\n          case \"spec\":\n            if (ba === ai || ba === aP) {\n              break;\n            }\n\n          case \"abil\":\n          case \"artk\":\n          case \"azerite-essence-powers\":\n          case \"azerite-powers\":\n          case \"bonus\":\n          case \"build\":\n          case \"class\":\n          case \"crafted-stats\":\n          case \"dd\":\n          case \"ddsize\":\n          case \"diff\":\n          case \"diffnew\":\n          case \"ench\":\n          case \"gem1bonus\":\n          case \"gem1lvl\":\n          case \"gem2bonus\":\n          case \"gem2lvl\":\n          case \"gem3bonus\":\n          case \"gem3lvl\":\n          case \"gems\":\n          case \"ilvl\":\n          case \"level\":\n          case \"lvl\":\n          case \"nlc\":\n          case \"nomajor\":\n          case \"pvp\":\n          case \"q\":\n          case \"rand\":\n          case \"rank\":\n          case \"rewards\":\n          case \"sock\":\n          case \"tink\":\n          case \"transmog\":\n          case \"twcata\":\n          case \"twmists\":\n          case \"twtbc\":\n          case \"twwotlk\":\n          case \"upgd\":\n            if (typeof a3[a6] === \"object\") {\n              be.push(a6 + \"=\" + a3[a6].join(\":\"));\n            } else {\n              if (a3[a6] === true) {\n                be.push(a6);\n              } else {\n                be.push(a6 + \"=\" + a3[a6]);\n              }\n            }\n\n            break;\n        }\n      }\n\n      const a4 = WH.getDomainFromLocale(bd);\n\n      switch (a2) {\n        case WH.dataEnv.MAIN:\n          break;\n\n        case WH.dataEnv.BETA:\n          if (WH.BETA_DOMAIN) {\n            a4 += (a4 ? \".\" : \"\") + WH.BETA_DOMAIN;\n            break;\n          }\n\n        default:\n          a4 += (a4 ? \".\" : \"\") + WH.dataEnvKey[a2];\n      }\n\n      if (!a4) {\n        a4 = \"www\";\n      }\n\n      const a8 = ak(a4);\n\n      if (a2 === WH.dataEnv.PTR || a2 === WH.dataEnv.BETA) {\n        if (WH.getDataBuild(a2) !== \"0\") {\n          be.push(WH.getDataBuild(a2));\n        }\n      }\n\n      if (!ac.isLoaded(ba, a2)) {\n        ac.fetch(ba, a2);\n      }\n\n      if (ba == t && a3 && a3.hasOwnProperty(\"lvl\") && !ac.isLoaded(ai, a2)) {\n        ac.fetch(ai, a2);\n      }\n\n      const a0 = be.length ? \"?\" + be.join(\"&\") : \"\";\n      const bc = a8 + \"/tooltip/\" + ap(ba) + \"/\" + a1 + a0;\n      WH.xhrJsonRequest(bc, ((bh, bk, bg, bj, bf, bi) => {\n        if (!bi) {\n          WH.error(\"Wowhead tooltips failed to load entity data.\", ax(bh) + \" #\" + bk);\n          return;\n        } else {\n          if (bi.error) {\n            WH.error(\"Wowhead tooltip request responded with an error.\", bi.error, ax(bh) + \" #\" + bk);\n          }\n        }\n\n        $WowheadPower.register(bh, bg, bj, bf, bi);\n      }).bind(null, ba, a1, bb, a2, bd));\n    };\n\n    const aV = (bk, a8, bq, bt, a3, a7, bc, a4) => {\n      az();\n\n      if (!y) {\n        return;\n      }\n\n      if (ar && ar._fixTooltip) {\n        a8 = ar._fixTooltip(a8, al, E, ar);\n      }\n\n      const a5 = false;\n\n      if (!a8) {\n        a8 = a(bk, \"notFound\").replace(\"%s\", ax(al));\n        bq = \"inv_misc_questionmark\";\n        a5 = true;\n      } else {\n        if (m != null) {\n          if (WH.reforgeStats && m.forg && WH.reforgeStats[m.forg]) {\n            const bs = WH.reforgeStats[m.forg];\n            const bu = [bs.i1];\n\n            for (const bn in WH.individualToGlobalStat) {\n              if (WH.individualToGlobalStat[bn] == bu[0]) {\n                bu.push(bn);\n              }\n            }\n\n            let bh = null;\n\n            if ((bh = a8.match(new RegExp(\"(<!--(stat|rtg)(\" + bu.join(\"|\") + \")-->)[+-]?([0-9]+)\"))) && !a8.match(new RegExp(\"<!--(stat|rtg)\" + bs.i2 + \"-->[+-]?[0-9]+\"))) {\n              const bg = Math.floor(bh[4] * bs.v),\n                    bb = aR.traits[bs.s2][0];\n\n              if (bs.i2 == 6) {\n                a8 = a8.replace(\"<!--rs-->\", \"<br />+\" + bg + \" \" + bb);\n              } else {\n                a8 = a8.replace(\"<!--rr-->\", WH.sprintfGlobal(z.genericequip_tip, bb.toLowerCase(), bs.i2, bg));\n              }\n\n              a8 = a8.replace(bh[0], bh[1] + (bh[4] - bg));\n              a8 = a8.replace(\"<!--rf-->\", '<span class=\"q2\">' + WH.sprintfGlobal(z.reforged_format, bg, aR.traits[bs.s1][2], aR.traits[bs.s2][2]) + \"</span><br />\");\n            }\n          }\n\n          if (m.pcs && m.pcs.length) {\n            const bf = 0;\n\n            for (const bn = 0, bo = m.pcs.length; bn < bo; ++bn) {\n              let bh = null;\n              const bw = new RegExp(\"<span><!--si([0-9]+:)*\" + m.pcs[bn] + '(:[0-9]+)*--><a href=\"/??item=(\\\\d+)\">(.+?)</a></span>');\n\n              if (bh = a8.match(bw)) {\n                const bm = !isNaN(parseInt(ay)) ? p[ay] : \"enus\";\n                const bv = WH.isSet(\"g_items\") && g_items[m.pcs[bn]] ? g_items[m.pcs[bn]][\"name_\" + bm] : bh[4];\n                const a6 = '<a href=\"/item=' + bh[3] + '\">' + bv + \"</a>\";\n                const bl = '<span class=\"q13\"><!--si' + m.pcs[bn] + \"-->\" + a6 + \"</span>\";\n                a8 = a8.replace(bh[0], bl);\n                ++bf;\n              }\n            }\n\n            if (bf > 0) {\n              a8 = a8.replace(\"(0/\", \"(\" + bf + \"/\");\n              a8 = a8.replace(new RegExp(\"<span>\\\\(([0-\" + bf + \"])\\\\)\", \"g\"), '<span class=\"q2\">($1)');\n            }\n          }\n\n          if (m.know && m.know.length) {\n            a8 = WH.setTooltipSpells(a8, m.know, a3);\n          }\n\n          if (m.lvl && !m.ilvl) {\n            a8 = WH.setTooltipLevel(a8, m.lvl ? m.lvl : WH.maxLevel, m.buff);\n          }\n\n          if (m.who && m.when) {\n            a8 = a8.replace(\"<table><tr><td><br />\", '<table><tr><td><br /><span class=\"q2\">' + WH.sprintf(a(bk, \"achievementComplete\"), m.who, m.when.getMonth() + 1, m.when.getDate(), m.when.getFullYear()) + \"</span><br /><br />\");\n            a8 = a8.replace(/class=\"q0\"/g, 'class=\"r3\"');\n          }\n\n          if (m.notip && bc) {\n            a8 = \"\";\n            bq = null;\n          }\n\n          if (al == TYPE_PETABILITY && m.pwr) {\n            a8 = a8.replace(/<!--sca-->(\\d+)<!--sca-->/g, (bx, by) => {\n              return Math.floor(parseInt(by) * (1 + 0.05 * m.pwr));\n            });\n          }\n\n          if (al == aa && m.cri) {\n            for (const bn = 0; bn < m.cri.length; bn++) {\n              a8 = a8.replace(new RegExp(\"<!--cr\" + parseInt(m.cri[bn]) + \":[^<]+\", \"g\"), '<span class=\"q2\">$&</span>');\n            }\n          }\n        }\n      }\n\n      if (!aU && WH.isSet(\"g_user\") && (WH.isRetailTree(U) && \"lists\" in g_user && WH.isSet(\"g_completion\") || WH.isClassicTree(U) && g_user.characterProfiles && g_user.characterProfiles.length)) {\n        const bj = \"\";\n        const a0 = WH.isRetailTree(U) && al in g_types && g_types[al] in g_completion ? g_completion[g_types[al]] : false;\n        const ba = $WowheadPower.getEntity(al, E, U, ay);\n\n        if (a0 && al == aK) {\n          if (a5 || a8 === a(bk, \"loading\") || ba.hasOwnProperty(\"worldquesttype\") && ba.worldquesttype != 0 || ba.hasOwnProperty(\"daily\") && ba.daily != 0 || ba.hasOwnProperty(\"weekly\") && ba.weekly != 0) {\n            a0 = false;\n          }\n        }\n\n        const bd = !(a0 && al in g_completion_categories && WH.inArray(g_completion_categories[al], ba.completion_category) === -1);\n        const a9 = /^-?\\d+(?:\\.\\d+)?/.exec(E);\n        a9 = a9 && a9.length ? a9[0] : E;\n\n        if (a0) {\n          for (const br in g_user.lists) {\n            const bi = g_user.lists[br];\n\n            if (!(bi.id in a0)) {\n              continue;\n            }\n\n            const bp = WH.inArray(a0[bi.id], a9) != -1;\n\n            if (!bp && !bd) {\n              continue;\n            }\n\n            bj += '<br><span class=\"progress-icon ' + (bp ? \"progress-8\" : \"progress-0\") + '\"></span> ';\n            bj += bi.character + \" - \" + bi.realm + \" \" + bi.region;\n          }\n        }\n\n        if (WH.isClassicTree(U) && al === aK) {\n          for (let a2 = bn = 0; a2 = g_user.characterProfiles[bn]; bn++) {\n            const bp = WH.inArray(a2.quests, a9) != -1;\n\n            if (!bp && !bd) {\n              continue;\n            }\n\n            bj += '<br><span class=\"progress-icon ' + (bp ? \"progress-8\" : \"progress-0\");\n            bj += '\"></span> ' + a2.name + \" - \" + a2.realm;\n          }\n        }\n\n        if (WH.isRetailTree(U) && al === TYPE_TRANSMOGSET && g_completion.wardrobe) {\n          (g_user.lists || []).forEach(bx => {\n            let amount = WH.Wow.TransmogSet.getCompletionAmount(ba.data.completionData || {}, bx.id);\n\n            if (amount > 0) {\n              bj += '<br><span class=\"progress-icon progress-' + Math.max(1, Math.floor(amount * 8)) + '\"></span> ';\n              bj += bx.character + \" - \" + bx.realm + \" \" + bx.region;\n            }\n          });\n        }\n\n        if (bj != \"\") {\n          a8 += '<br><span class=\"q\">' + WH.TERMS.completion + \":</span>\" + bj;\n        }\n      }\n\n      if (!S && [TYPE_TRANSMOGSET, j].includes(al) && typeof WH.getPreferredTransmogRace !== \"undefined\") {\n        let trg = WH.getPreferredTransmogRace();\n        let race = trg.race;\n        let gender = trg.gender - 1;\n        let div = WH.ce(\"div\", {\n          innerHTML: a8\n        });\n        let pic = WH.qs(\"picture\", div);\n\n        if (pic) {\n          if (pic.dataset.requiredRace && !ar.dataset.tooltipIgnoreRequiredRace) {\n            race = pic.dataset.requiredRace;\n          }\n\n          let supportClass = al === j ? WH.Wow.ItemSet : WH.Wow.TransmogSet;\n          pic.parentNode.replaceChild(WH.ce(\"img\", {\n            src: supportClass.getThumbUrl(E, race, gender, U),\n            width: 260,\n            height: 440,\n            style: {\n              display: \"block\",\n              margin: \"0 auto\"\n            }\n          }), pic);\n          a8 = div.innerHTML;\n        }\n      }\n\n      if (!S && a8 && (m.diff || m.diffnew || m.noimage)) {\n        bc = \"\";\n        a4 = \"\";\n      }\n\n      a8 = a8.replace(\"http://\", \"https://\");\n\n      if (m.map && bt && bt.getMap) {\n        a7 = bt.getMap();\n      }\n\n      const a1 = (bz, bx) => {\n        if (al !== bz.type || E !== bz.id || U !== bz.dataEnv || ay !== bz.locale || m !== bz.params) {\n          return;\n        }\n\n        switch (aq) {\n          case aF.screen:\n            WH.Tooltip.showInScreen(ar, bx, null, a7, bc, a4, bq);\n            break;\n\n          case aF.attachToIcon:\n          case aF.attach:\n            const by = WH.isElementFixedPosition(ar);\n            WH.Tooltip.setIcon(aq === aF.attachToIcon ? null : bq, by);\n            WH.Tooltip.show(ar, bx, null, null, null, a7, bc, a4, by);\n            break;\n\n          case aF.attachWithoutScreenshot:\n            by = WH.isElementFixedPosition(ar);\n            WH.Tooltip.setIcon(bq, by);\n            WH.Tooltip.show(ar, bx, null, null, null, a7, null, null, by);\n            break;\n\n          case aF.floatWithoutIcon:\n            by = WH.isElementFixedPosition(ar);\n            WH.Tooltip.setIcon(null, by);\n            WH.Tooltip.showAtXY(bx, aw, av, CURSOR_HSPACE, CURSOR_VSPACE, a7, bc, a4, by);\n            break;\n\n          case aF[\"float\"]:\n          default:\n            by = WH.isElementFixedPosition(ar);\n            WH.Tooltip.setIcon(bq, by);\n            WH.Tooltip.showAtXY(bx, aw, av, CURSOR_HSPACE, CURSOR_VSPACE, a7, bc, a4, by);\n        }\n\n        if (S && WH.Tooltip.logo) {\n          WH.Tooltip.logo.style.display = D ? \"block\" : \"none\";\n        }\n      };\n\n      const be = {\n        type: al,\n        id: E,\n        dataEnv: U,\n        locale: ay,\n        params: m\n      };\n      aO(a8, a3, a1.bind(this, be), be);\n    };\n\n    const aO = (a1, a2, a4, a3) => {\n      switch (a3.type) {\n        case aP:\n          const a0 = $WowheadPower.getEntity(a3.type, a3.id, a3.dataEnv, a3.locale);\n\n          if (a3.params.spec && !(a3.params.know && a3.params.know.length)) {\n            ac.getSpellsBySpec(a3.params.spec, a5 => {\n              a1 = a1.replace(/<!--embed:([^>]+)-->/g, (a6, a7) => {\n                return WH.setTooltipSpells(a0.data.embeds[a7].tooltip, a5, a0.data.embeds[a7].spells);\n              });\n              a4(a1);\n            });\n            break;\n          } else {\n            a1 = a1.replace(/<!--embed:([^>]+)-->/g, (a5, a6) => {\n              return WH.setTooltipSpells(a0.data.embeds[a6].tooltip, a3.params.know, a0.data.embeds[a6].spells);\n            });\n          }\n\n          window.requestAnimationFrame(a4.bind(null, a1));\n          break;\n\n        case ai:\n          if (a3.params.spec && !(a3.params.know && a3.params.know.length)) {\n            ac.getSpellsBySpec(a3.params.spec, a5 => {\n              a1 = WH.setTooltipSpells(a1, a5, a2);\n              a4(a1);\n            });\n            break;\n          }\n\n          window.requestAnimationFrame(a4.bind(null, a1));\n          break;\n\n        default:\n          window.requestAnimationFrame(a4.bind(null, a1));\n      }\n    };\n\n    const W = (a2, a4, a3, a0) => {\n      if (al == a2 && E == a4 && U == a3 && ay == a0) {\n        aV(a0, a(a0, \"loading\"));\n        const a1 = $WowheadPower.getEntity(a2, a4, a3, a0);\n        a1.timer = setTimeout(P.bind(this, a2, a4, a3, a0), 3850);\n      }\n    };\n\n    const P = (a2, a4, a3, a0) => {\n      const a1 = $WowheadPower.getEntity(a2, a4, a3, a0);\n      a1.status = aE;\n\n      if (al == a2 && E == a4 && U == a3 && ay == a0) {\n        aV(a0, a(a0, \"noResponse\"));\n      }\n    };\n\n    const at = (a0, a2, a1) => {\n      if (a1.build) {\n        return a2 + \"build\" + a1.build;\n      }\n\n      return a2 + (a1.rand ? \"r\" + a1.rand : \"\") + (a1.ench ? \"e\" + a1.ench : \"\") + (a1.gems ? \"g\" + a1.gems.join(\",\") : \"\") + (a1.sock ? \"s\" : \"\") + (a1.upgd ? \"u\" + a1.upgd : \"\") + (a1.twtbc ? \"twtbc\" : \"\") + (a1.twwotlk ? \"twwotlk\" : \"\") + (a1.twcata ? \"twcata\" : \"\") + (a1.twmists ? \"twmists\" : \"\") + (a1.ilvl ? \"ilvl\" + a1.ilvl : \"\") + (a1.lvl ? \"lvl\" + a1.lvl : \"\") + (a1.gem1lvl ? \"g1lvl\" + a1.gem1lvl : \"\") + (a1.gem2lvl ? \"g2lvl\" + a1.gem2lvl : \"\") + (a1.gem3lvl ? \"g3lvl\" + a1.gem3lvl : \"\") + (a1.artk ? \"ak\" + a1.artk : \"\") + (a1.nlc ? \"nlc\" + a1.nlc : \"\") + (a1.transmog ? \"transmog\" + a1.transmog : \"\") + (a1.tink ? \"tink\" + a1.tink : \"\") + (a1.pvp ? \"pvp\" : \"\") + (a1.bonus ? \"b\" + a1.bonus.join(\",\") : \"\") + (a1.gem1bonus ? \"g1b\" + a1.gem1bonus.join(\",\") : \"\") + (a1.gem2bonus ? \"g2b\" + a1.gem2bonus.join(\",\") : \"\") + (a1.gem3bonus ? \"g3b\" + a1.gem3bonus.join(\",\") : \"\") + (a1[\"crafted-stats\"] ? \"craftedStats\" + a1[\"crafted-stats\"].join(\",\") : \"\") + (a1.q ? \"q\" + a1.q : \"\") + (a1.level ? \"level\" + a1.level : \"\") + (a1.abil ? \"abil\" + a1.abil.join(\",\") : \"\") + (a1.dd ? \"dd\" + a1.dd : \"\") + (a1.ddsize ? \"ddsize\" + a1.ddsize : \"\") + (a1.diff == ai ? \"diff\" + a1.diff : \"\") + (a1.rank ? \"rank\" + a1.rank : \"\") + (a1[\"class\"] ? \"class\" + a1[\"class\"] : \"\") + (a0 !== ai && a1.spec ? \"spec\" + a1.spec : \"\") + (a1.rewards ? \"rewards\" + a1.rewards.join(\":\") : \"\") + (a1[\"azerite-powers\"] ? \"azPowers\" + a1[\"azerite-powers\"] : \"\") + (a1[\"azerite-essence-powers\"] ? \"aePowers\" + a1[\"azerite-essence-powers\"] : \"\") + (a1.nomajor ? \"nomajor\" : \"\");\n    };\n\n    this.clearTouchTooltip = a0 => {\n      if (af) {\n        if (a0 !== true) {\n          af.removeAttribute(\"data-showing-touch-tooltip\");\n        }\n\n        af.hasWHTouchTooltip = false;\n      }\n\n      af = null;\n\n      if (a0 !== true) {\n        WH.qsa(\"[data-showing-touch-tooltip]\").forEach(a1 => {\n          delete a1.dataset.showingTouchTooltip;\n        });\n      }\n\n      if (WH.Tooltip.screen) {\n        WH.Tooltip.screenInnerWrapper.scrollTop = 0;\n        WH.Tooltip.screenInnerWrapper.scrollLeft = 0;\n        WH.Tooltip.screen.style.display = \"none\";\n        WH.Tooltip.mobileTooltipShown = false;\n      }\n\n      let showingTooltip = a0 === true ? WH.Tooltip.showingTooltip : false;\n      WH.Tooltip.hide();\n      WH.Tooltip.showingTooltip = showingTooltip;\n      $WowheadPower.setParent();\n    };\n\n    const K = (a0, a2, a1) => {\n      if (S) {\n        return false;\n      }\n\n      if (!WH.User.isPremium()) {\n        return false;\n      }\n\n      if (WH.Tooltip.hideScreenshots) {\n        return false;\n      }\n\n      let entity = WH.Gatherer.get(a0, a2, a1, true);\n\n      if (entity) {\n        if (entity.screenshot && entity.screenshot.id) {\n          return [WH.getScreenshotUrl(entity.screenshot.id, \"small\", {\n            imageType: entity.screenshot.imageType\n          }), \"screenshot\"];\n        } else {\n          if (!WH.wowheadRemote && a0 === aI.ITEM && entity.jsonequip && entity.jsonequip.displayid) {\n            let displayId = entity.jsonequip.displayid;\n            let raceMask = entity.reqrace || entity.jsonequip.races;\n            let raceId = WH.Wow.Models.getRaceIdFromMask(raceMask);\n\n            if (entity.classs && entity.classs !== WH.Wow.Item.CLASS_ARMOR || entity.jsonequip.slotbak && !WH.Wow.Item.isArmorInvType(entity.jsonequip.slotbak)) {\n              raceId = undefined;\n            }\n\n            let bonusIds = Listview.funcBox.getCurrentItemBonuses.call(this, entity);\n            let appearance = g_items.getAppearance(entity.id, bonusIds);\n\n            if (appearance && appearance[0]) {\n              displayId = appearance[0];\n            }\n\n            if (displayId) {\n              return [WH.Wow.Item.getThumbUrl(displayId, raceId), \"screenshot\"];\n            }\n          }\n        }\n      }\n\n      return false;\n    };\n\n    this.register = (a7, a1, a2, a8, a6) => {\n      const a5 = this.getEntity(a7, a1, a2, a8);\n\n      if (a6.hasOwnProperty(\"additionalIds\")) {\n        const a3 = a6.additionalIds;\n        delete a6.additionalIds;\n\n        if (a3.length) {\n          for (const a9 = 0; a9 < a3.length; a9++) {\n            this.register(a7, a3[a9], a2, a8, a6);\n          }\n        }\n      }\n\n      if (!ac.isLoaded(a7, a2)) {\n        a5.status = u;\n        ac.registerCallback(a7, a2, this.register.bind(this, a7, a1, a2, a8, a6));\n        return;\n      }\n\n      if (typeof a1 === \"string\" && (a1.indexOf(\"lvl\") === 0 || a1.match(/[^i]lvl/)) && !ac.isLoaded(ai, a2)) {\n        a5.status = u;\n        ac.registerCallback(ai, a2, this.register.bind(this, a7, a1, a2, a8, a6));\n        return;\n      }\n\n      if (a5.timer) {\n        clearTimeout(a5.timer);\n        delete a5.timer;\n      }\n\n      if (!WH.wowheadRemote && a6.map) {\n        if (a5.data.map == null) {\n          a5.data.map = new Mapper({\n            parent: WH.ce(\"div\"),\n            zoom: 3,\n            zoomable: false,\n            buttons: false\n          });\n        }\n\n        a5.data.map.update(a6.map);\n        delete a6.map;\n      }\n\n      for (const a4 in a6) {\n        if (!a6.hasOwnProperty(a4)) {\n          continue;\n        }\n\n        a5.data[a4] = a6[a4];\n      }\n\n      switch (a5.status) {\n        case ag:\n        case u:\n        case O:\n          if (a5.data[s()]) {\n            a5.status = ao;\n          } else {\n            a5.status = d;\n          }\n\n      }\n\n      if (WH.Tooltip.showingTooltip && al == a7 && E == a1 && U == a2 && ay == a8) {\n        const ba = a5.data[v(m.image)];\n        const bb = a5.data[\"image\" + m.image + \"_class\"];\n        const a0 = K(a7, a1, a2);\n\n        if (a0) {\n          ba = a0[0];\n          bb = a0[1];\n        }\n\n        aV(a8, a5.data[s()], a5.data.icon, a5.data.map, a5.data[aZ()], a5.data[s(2)], ba, bb);\n      }\n\n      while (a5.callbacks.length) {\n        a5.callbacks.shift()();\n      }\n    };\n\n    this.request = (a2, a5, a4, a0, a3) => {\n      if (!a3) {\n        a3 = {};\n      }\n\n      if (a0 === undefined) {\n        a0 = ab.getId();\n      }\n\n      if (!a4) {\n        a4 = WH.getDataEnv();\n      }\n\n      const a1 = at(a2, a5, a3);\n      this.getEntity(a2, a1, a4, a0);\n      aB(a2, a5, a4, a0, true, a3);\n    };\n\n    this.triggerTooltip = (a0, a1) => {\n      I(a0, a1 || {\n        target: a0\n      }, true);\n    };\n\n    this.refreshLinks = a1 => {\n      if (a1 === true || g(\"renameLinks\") || g(\"colorLinks\") || g(\"iconizeLinks\")) {\n        const a0 = WH.isTouch();\n        let links = x();\n\n        for (let link, i = 0; link = links[i]; i++) {\n          const a2 = link.parentNode;\n          const a3 = false;\n\n          while (a2 != null) {\n            let className = a2.getAttribute && a2.getAttribute(\"class\") || \"\";\n\n            if ((\" \" + className + \" \").replace(/[\\n\\t]/g, \" \").indexOf(\" wowhead-tooltip \") > -1) {\n              a3 = true;\n              break;\n            }\n\n            a2 = a2.parentNode;\n          }\n\n          if (!a3) {\n            I(link);\n\n            if (a0) {\n              am(link);\n            }\n          }\n        }\n      }\n\n      this.hideTooltip();\n    };\n\n    this.setParent = a0 => {\n      WH.Tooltip.reset();\n      WH.Tooltip.prepare(a0, WH.isElementFixedPosition(a0));\n    };\n\n    this.replaceWithTooltip = (bb, a6, a1, a2, a8, a3, ba) => {\n      if (!a3) {\n        a3 = {};\n      }\n\n      if (a8 === undefined) {\n        a8 = ab.getId();\n      }\n\n      if (!a2) {\n        a2 = WH.getDataEnv();\n      }\n\n      if (typeof bb == \"string\") {\n        bb = document.getElementById(bb);\n      }\n\n      if (!bb) {\n        return false;\n      }\n\n      const a7 = at(a6, a1, a3);\n      const a4 = this.getEntity(a6, a7, a2, a8);\n\n      switch (a4.status) {\n        case ao:\n          if (!bb.parentNode) {\n            return true;\n          }\n\n          while (bb.hasChildNodes()) {\n            bb.removeChild(bb.firstChild);\n          }\n\n          const a0 = [\"wowhead-tooltip-inline\"];\n\n          if (a4.data.icon) {\n            a0.push(\"wowhead-tooltip-inline-icon\");\n          }\n\n          an(bb, a0);\n          const a5 = a4.data[s()];\n\n          const a9 = bc => {\n            if (typeof ba === \"function\") {\n              bc = ba(bc);\n            }\n\n            WH.Tooltip.append(bb, bc, true, a4.data.icon);\n          };\n\n          aO(a5, a4.data[aZ()], a9, {\n            type: a6,\n            id: a1,\n            dataEnv: a2,\n            locale: a8,\n            params: a3\n          });\n          return true;\n\n        case ag:\n        case O:\n          a4.callbacks.push(this.replaceWithTooltip.bind(this, bb, a6, a1, a2, a8, a3, ba));\n          this.request(a6, a1, a2, a8, a3);\n          return true;\n      }\n\n      return false;\n    };\n\n    if (S) {\n      this.set = a0 => {\n        WH.cO(aA, a0);\n      };\n\n      this.showTooltip = (a1, a2, a0) => {\n        L(a1);\n        aV(0, a2, a0);\n      };\n\n      this.hideTooltip = () => {\n        if (typeof WH === \"undefined\" || typeof WH.Tooltip === \"undefined\" || typeof WH.Tooltip.hide !== \"function\") {\n          return;\n        }\n\n        WH.Tooltip.hide();\n      };\n\n      this.moveTooltip = a0 => {\n        aC(a0);\n      };\n    } else {\n      this.disableCompletion = () => {\n        aU = true;\n      };\n    }\n\n    au();\n  }();\n}\n\n;","map":{"version":3,"sources":["/Users/jm-laptop/Documents/Portfolio/wowbislist/src/api/wowhead.js"],"names":["whTooltips","colorLinks","iconizeLinks","renameLinks","window","WH","PageMeta","staticUrl","wowheadRemote","$WowheadPower","Types","NPC","OBJECT","ITEM","ITEM_SET","QUEST","SPELL","ZONE","FACTION","PET","ACHIEVEMENT","TITLE","EVENT","CLASS","RACE","SKILL","CURRENCY","PROJECT","SOUND","BUILDING","FOLLOWER","MISSION_ABILITY","MISSION","SHIP","THREAT","RESOURCE","CHAMPION","ICON","ORDER_ADVANCEMENT","FOLLOWER_A","FOLLOWER_H","SHIP_A","SHIP_H","CHAMPION_A","CHAMPION_H","TRANSMOG_ITEM","BFA_CHAMPION","BFA_CHAMPION_A","AFFIX","BFA_CHAMPION_H","AZERITE_ESSENCE_POWER","AZERITE_ESSENCE","STORYLINE","ADVENTURE_COMBATANT_ABILITY","ENCOUNTER","PET_ABILITY","SCREENSHOT","GUIDE_IMAGE","GUIDE","TRANSMOG_SET","OUTFIT","GEAR_SET","LISTVIEW","aI","C","garrisonability","itemset","petability","aM","l","c","Z","name","path","mobile","data","maxId","minId","S","z","TERMS","genericequip_tip","reforged_format","aU","y","aA","applyto","M","document","getElementsByTagName","aQ","aF","attach","attachToIcon","attachWithoutScreenshot","floatWithoutIcon","screen","w","aY","al","E","U","ay","m","ar","aw","av","aq","G","af","F","D","O","ag","aE","d","ao","u","ae","V","t","j","aK","ai","Y","aa","k","X","h","aG","ad","B","aL","q","aj","n","N","aX","aS","b","aP","T","J","aH","TYPE_GUIDE","TYPE_TRANSMOGSET","TYPE_OUTFIT","TYPE_PETABILITY","ICONIZE_TYPES","CURSOR_HSPACE","CURSOR_VSPACE","_LANG","achievementComplete","loading","noResponse","notFound","STEALTH_TYPES","ac","a3","a2","a1","a0","fetch","a6","a7","hasOwnProperty","subdomain","dataEnvKey","dataEnv","BETA","BETA_DOMAIN","MAIN","url","ak","Url","getDataPageUrl","replace","xhrJsonRequest","a8","ba","a9","error","ax","setData","bind","getSpellsBySpec","getDataEnv","registerCallback","specMap","concat","spec","isLoaded","a4","requestAnimationFrame","push","length","shift","a5","staminaFactor","staminaByIlvl","convertRatingToPercent","RB","combatRatingsBase","LH","ratingsToPercentLH","RM","ratingsToPercentRM","LT","ratingsToPercentLT","convertScalingFactor","SV","itemScalingValue","SD","scalingFactors","curvePoints","applyStatModifications","ScalingData","scalingData","Tooltip","ARTIFACT_KNOWLEDGE_MULTIPLIERS","artifactKnowledgeMultiplier","BONUS_ITEM_EFFECTS","bonusEffects","bonus","ITEM_EFFECT_NAMES","effectSpellName","ITEM_EFFECT_TOOLTIP_HTML","effect","contentTuningLevels","convertScalingSpell","scalingValue","SpellInformation","spellInformation","RandPropPoints","randPropPoints","setScales","p","ab","getId","getName","aR","traits","agi","arcres","arcsplpwr","armor","armorbonus","armorpenrtng","atkpwr","block","blockrtng","critstrkrtng","defrtng","dmg","dmgmax1","dmgmin1","dodgertng","dps","exprtng","firres","firsplpwr","frores","frosplpwr","hastertng","health","healthrgn","hitrtng","holres","holsplpwr","level","mana","manargn","mastrtng","mleatkpwr","mlecritstrkrtng","mledmgmax","mledmgmin","mledps","mlehastertng","mlehitrtng","mlespeed","natres","natsplpwr","nsockets","parryrtng","reqarenartng","reqlevel","resirtng","rgdatkpwr","rgdcritstrkrtng","rgddmgmax","rgddmgmin","rgddps","rgdhastertng","rgdhitrtng","rgdspeed","sepbasestats","sepdefensivestats","sepindividualstats","sepoffensivestats","sepresistances","sepweaponstats","shares","shasplpwr","speed","spi","splcritstrkrtng","spldmg","splheal","splpwr","splhastertng","splhitrtng","splpen","sta","str","pvppower","au","wowheadRemotePreload","jsFiles","g","i","jsFile","script","createElement","src","appendChild","Q","r","Locale","az","styleSheets","type","createPopup","createTextNode","insertRule","cssRules","addRule","getEntity","aW","status","callbacks","Error","aN","undefined","min","max","ap","a","R","wowhead_tooltips","aJ","keyCode","clearTouchTooltip","hide","H","attachTouchTooltips","isTouch","nodeType","f","readyState","addEventListener","am","dataset","hasWhTouchEvent","onclick","o","body","gE","init","Icon","setTimeout","ce","href","rel","links","x","I","querySelectorAll","calcLinks","L","pos","getCursorPos","an","classList","len","add","classAttribute","getAttribute","indexOf","setAttribute","result","bh","simpleTooltip","onmouseout","tooltipMode","onmousemove","aC","ah","show","nodeName","wowhead","console","log","bl","test","tcRegex","tcMatches","match","height","width","paddingTop","parentNode","replaceChild","style","margin","maxHeight","maxWidth","className","position","border","left","top","borderRadius","sandbox","scRegex","scMatches","params","bn","bo","bp","parseInt","split","Date","rawDomain","typeName","id","matches","getTypeIdFromTypeString","gems","bi","Math","slice","bc","statsList","statId","isNaN","abil","bk","bg","rewards","bm","bf","domain","toLowerCase","getLocaleFromDomain","RegExp","dataEnvTerm","PTR","isPtrActive","isBetaActive","location","documentElement","offsetWidth","whattach","whtticon","whContextMenuAttached","A","showingTooltip","overrideTooltip","bb","html","html2","htmlGenerator","html2Generator","spanClass","aV","icon","map","spellData","image","imageClass","e","bd","at","be","whIconAdded","innerHTML","bj","aD","quality","aB","isValidSize","toLocaleLowerCase","setProperty","paddingLeft","verticalAlign","background","aef","create","span","target","hasWHTouchTooltip","removeAttribute","stopPropagation","preventDefault","move","isDev","hostname","port","protocol","s","buff","text","premium","aT","aZ","v","K","inArray","ctrlKey","button","menu","entity","Menu","createItem","label","term","copyToClipboard","copyableUrl","existsInDataEnv","generate","Entity","getPath","locale","markupTag","markup","tags","wowheadMarkupTag","noEvents","showAtElement","showImmediately","register","timer","W","join","getDomainFromLocale","getDataBuild","bq","bt","_fixTooltip","reforgeStats","forg","bs","bu","i1","individualToGlobalStat","i2","floor","s2","sprintfGlobal","s1","pcs","bw","bv","isSet","g_items","know","setTooltipSpells","lvl","ilvl","setTooltipLevel","maxLevel","who","when","sprintf","getMonth","getDate","getFullYear","notip","pwr","bx","by","cri","isRetailTree","g_user","isClassicTree","characterProfiles","g_types","g_completion","worldquesttype","daily","weekly","g_completion_categories","completion_category","exec","br","lists","character","realm","region","quests","wardrobe","forEach","amount","Wow","TransmogSet","getCompletionAmount","completionData","completion","includes","getPreferredTransmogRace","trg","race","gender","div","pic","qs","requiredRace","tooltipIgnoreRequiredRace","supportClass","ItemSet","getThumbUrl","display","diff","diffnew","noimage","getMap","bz","showInScreen","isElementFixedPosition","setIcon","showAtXY","logo","aO","embeds","tooltip","spells","P","build","rand","ench","sock","upgd","twtbc","twwotlk","twcata","twmists","gem1lvl","gem2lvl","gem3lvl","artk","nlc","transmog","tink","pvp","gem1bonus","gem2bonus","gem3bonus","dd","ddsize","rank","nomajor","qsa","showingTouchTooltip","screenInnerWrapper","scrollTop","scrollLeft","mobileTooltipShown","setParent","User","isPremium","hideScreenshots","Gatherer","get","screenshot","getScreenshotUrl","imageType","jsonequip","displayid","displayId","raceMask","reqrace","races","raceId","Models","getRaceIdFromMask","classs","Item","CLASS_ARMOR","slotbak","isArmorInvType","bonusIds","Listview","funcBox","getCurrentItemBonuses","call","appearance","getAppearance","additionalIds","clearTimeout","Mapper","parent","zoom","zoomable","buttons","update","request","triggerTooltip","refreshLinks","link","hideTooltip","reset","prepare","replaceWithTooltip","getElementById","hasChildNodes","removeChild","firstChild","append","set","cO","showTooltip","moveTooltip","disableCompletion"],"mappings":"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","sourcesContent":["/* eslint-disable */\nconst whTooltips = { colorLinks: true, iconizeLinks: true, renameLinks: true };\n\nif (!window.WH) {\n  window.WH = {\n    PageMeta: {},\n    staticUrl: \"https://wow.zamimg.com\",\n    wowheadRemote: true\n  }\n}\n\n// WH.isTouch = function() {\n//   if (!WH.wowheadRemote && typeof Platform !== \"undefined\") {\n//     WH.isTouch = () => {\n//       return Platform.isTouch()\n//     }\n//   } else {\n//     const b = navigator.userAgent || navigator.vendor || window.opera;\n//     const a = {\n//       isMobile: false,\n//       isTablet: false\n//     };\n//     if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(b.substr(0, 4))) {\n//       a.isMobile = true\n//     }\n//     if (!a.isMobile && /(android|ipad|playbook|silk)/i.test(b)) {\n//       a.isTablet = true\n//     }\n//     WH.isTouch = ((c) => {\n//       return c.isMobile || c.isTablet\n//     }).bind(null, a);\n//     WH.isMobile = ((c) => {\n//       return c\n//     }).bind(null, a.isMobile);\n//     WH.isTablet = ((c) => {\n//       return c\n//     }).bind(null, a.isTablet)\n//   }\n//   return WH.isTouch()\n// };\n\nif (!window.$WowheadPower) {\n  window.$WowheadPower = new function() {\n    if (!WH.Types) {\n      WH.Types = new function() {\n        this.NPC = 1;\n        this.OBJECT = 2;\n        this.ITEM = 3;\n        this.ITEM_SET = 4;\n        this.QUEST = 5;\n        this.SPELL = 6;\n        this.ZONE = 7;\n        this.FACTION = 8;\n        this.PET = 9;\n        this.ACHIEVEMENT = 10;\n        this.TITLE = 11;\n        this.EVENT = 12;\n        this.CLASS = 13;\n        this.RACE = 14;\n        this.SKILL = 15;\n        this.CURRENCY = 17;\n        this.PROJECT = 18;\n        this.SOUND = 19;\n        this.BUILDING = 20;\n        this.FOLLOWER = 21;\n        this.MISSION_ABILITY = 22;\n        this.MISSION = 23;\n        this.SHIP = 25;\n        this.THREAT = 26;\n        this.RESOURCE = 27;\n        this.CHAMPION = 28;\n        this.ICON = 29;\n        this.ORDER_ADVANCEMENT = 30;\n        this.FOLLOWER_A = 31;\n        this.FOLLOWER_H = 32;\n        this.SHIP_A = 33;\n        this.SHIP_H = 34;\n        this.CHAMPION_A = 35;\n        this.CHAMPION_H = 36;\n        this.TRANSMOG_ITEM = 37;\n        this.BFA_CHAMPION = 38;\n        this.BFA_CHAMPION_A = 39;\n        this.AFFIX = 40;\n        this.BFA_CHAMPION_H = 41;\n        this.AZERITE_ESSENCE_POWER = 42;\n        this.AZERITE_ESSENCE = 43;\n        this.STORYLINE = 44;\n        this.ADVENTURE_COMBATANT_ABILITY = 46;\n        this.ENCOUNTER = 47;\n        this.PET_ABILITY = 200;\n        this.SCREENSHOT = 91;\n        this.GUIDE_IMAGE = 98;\n        this.GUIDE = 100;\n        this.TRANSMOG_SET = 101;\n        this.OUTFIT = 110;\n        this.GEAR_SET = 111;\n        this.LISTVIEW = 158\n      }\n    }\n    const aI = WH.Types;\n    const C = {\n      garrisonability: \"mission-ability\",\n      itemset: \"item-set\",\n      petability: \"pet-ability\"\n    };\n    const aM = -1;\n    const l = 0;\n    const c = 1;\n    const Z = {};\n    Z[\"-1000\"] = {\n      name: \"Mount\",\n      path: \"mount\",\n      mobile: true,\n      data: {},\n      maxId: 50000\n    };\n    Z[\"-1001\"] = {\n      name: \"Recipe\",\n      path: \"recipe\",\n      mobile: true,\n      data: {},\n      maxId: 500000\n    };\n    Z[\"-1002\"] = {\n      name: \"Battle Pet\",\n      path: \"battle-pet\",\n      mobile: true,\n      data: {},\n      maxId: 50000\n    };\n    Z[WH.Types.NPC] = {\n      name: \"NPC\",\n      path: \"npc\",\n      mobile: false,\n      data: {},\n      maxId: 500000\n    };\n    Z[WH.Types.OBJECT] = {\n      name: \"Object\",\n      path: \"object\",\n      mobile: false,\n      data: {},\n      maxId: 750000\n    };\n    Z[WH.Types.ITEM] = {\n      name: \"Item\",\n      path: \"item\",\n      mobile: true,\n      data: {},\n      maxId: 500000\n    };\n    Z[WH.Types.ITEM_SET] = {\n      name: \"Item Set\",\n      path: \"item-set\",\n      mobile: true,\n      data: {},\n      maxId: 10000,\n      minId: -5000\n    };\n    Z[WH.Types.QUEST] = {\n      name: \"Quest\",\n      path: \"quest\",\n      mobile: false,\n      data: {},\n      maxId: 100000\n    };\n    Z[WH.Types.SPELL] = {\n      name: \"Spell\",\n      path: \"spell\",\n      mobile: true,\n      data: {},\n      maxId: 500000\n    };\n    Z[WH.Types.ZONE] = {\n      name: \"Zone\",\n      path: \"zone\",\n      mobile: false,\n      data: {},\n      maxId: 50000\n    };\n    Z[WH.Types.ACHIEVEMENT] = {\n      name: \"Achievement\",\n      path: \"achievement\",\n      mobile: true,\n      data: {},\n      maxId: 50000\n    };\n    Z[WH.Types.EVENT] = {\n      name: \"Event\",\n      path: \"event\",\n      mobile: false,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.CURRENCY] = {\n      name: \"Currency\",\n      path: \"currency\",\n      mobile: false,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.BUILDING] = {\n      name: \"Building\",\n      path: \"building\",\n      mobile: false,\n      data: {},\n      maxId: 1000\n    };\n    Z[WH.Types.FOLLOWER] = {\n      name: \"Follower\",\n      path: \"follower\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.MISSION_ABILITY] = {\n      name: \"Mission Ability\",\n      path: \"mission-ability\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.MISSION] = {\n      name: \"Mission\",\n      path: \"mission\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.SHIP] = {\n      name: \"Ship\",\n      path: \"ship\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.THREAT] = {\n      name: \"Threat\",\n      path: \"threat\",\n      mobile: false,\n      data: {},\n      maxId: 1000\n    };\n    Z[WH.Types.RESOURCE] = {\n      name: \"Resource\",\n      path: \"resource\",\n      mobile: true,\n      data: {},\n      maxId: 100,\n      minId: 0\n    };\n    Z[WH.Types.CHAMPION] = {\n      name: \"Champion\",\n      path: \"champion\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.ORDER_ADVANCEMENT] = {\n      name: \"Order Advancement\",\n      path: \"order-advancement\",\n      mobile: true,\n      data: {},\n      maxId: 5000\n    };\n    Z[WH.Types.BFA_CHAMPION] = {\n      name: \"BFA Champion\",\n      path: \"bfa-champion\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.AFFIX] = {\n      name: \"Affix\",\n      path: \"affix\",\n      mobile: true,\n      data: {},\n      maxId: 1000\n    };\n    Z[WH.Types.AZERITE_ESSENCE_POWER] = {\n      name: \"Azerite Essence Power\",\n      path: \"azerite-essence-power\",\n      mobile: true,\n      data: {},\n      maxId: 1000\n    };\n    Z[WH.Types.AZERITE_ESSENCE] = {\n      name: \"Azerite Essence\",\n      path: \"azerite-essence\",\n      mobile: false,\n      data: {},\n      maxId: 100\n    };\n    Z[WH.Types.STORYLINE] = {\n      name: \"Storyline\",\n      path: \"storyline\",\n      mobile: false,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.ADVENTURE_COMBATANT_ABILITY] = {\n      name: \"Adventure Combatant Ability\",\n      path: \"adventure-combatant-ability\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    Z[WH.Types.GUIDE] = {\n      name: \"Guide\",\n      path: \"guide\",\n      mobile: false,\n      data: {}\n    };\n    Z[WH.Types.TRANSMOG_SET] = {\n      name: \"Transmog Set\",\n      path: \"transmog-set\",\n      mobile: true,\n      data: {},\n      maxId: 50000\n    };\n    Z[WH.Types.OUTFIT] = {\n      name: \"Outfit\",\n      path: \"outfit\",\n      mobile: true,\n      data: {}\n    };\n    Z[WH.Types.PET_ABILITY] = {\n      name: \"Battle Pet Ability\",\n      path: \"pet-ability\",\n      mobile: true,\n      data: {},\n      maxId: 10000\n    };\n    const S = WH.wowheadRemote;\n    const z = WH.TERMS || {\n      genericequip_tip: '<span class=\"q2\">Equip: Increases your $1 by <!--rtg$2-->$3&nbsp;<small>(<!--rtg%$2-->0&nbsp;@&nbsp;L<!--lvl-->0)</small>.</span><br />',\n      reforged_format: \"Reforged ($1 $2 &rarr; $1 $3)\"\n    };\n    const aU = S;\n    const y = false;\n    const aA = {\n      applyto: 3\n    };\n    const M = document.getElementsByTagName(\"head\")[0];\n    const aQ = aF = {\n      attach: 3,\n      attachToIcon: 1,\n      attachWithoutScreenshot: 4,\n      \"float\": 0,\n      floatWithoutIcon: 5,\n      screen: 2\n    };\n    const w = 550;\n    const aY = {\n      colorLinks: \"colorlinks\",\n      iconizeLinks: \"iconizelinks\",\n      renameLinks: \"renamelinks\"\n    };\n    const al = E = U = ay = m = ar = aw = av = aq = aF[\"float\"];\n    let G = false;\n    const af = null;\n    const F = 1;\n    const D = 1;\n    const O = 0;\n    const ag = 1;\n    const aE = 2;\n    const d = 3;\n    const ao = 4;\n    const u = 5;\n    const ae = 1;\n    const V = 2;\n    const t = 3;\n    const j = 4;\n    const aK = 5;\n    const ai = 6;\n    const Y = 7;\n    const aa = 10;\n    const k = 12;\n    const X = 13;\n    const h = 17;\n    const aG = 20;\n    const ad = 21;\n    const B = 22;\n    const aL = 23;\n    const q = 25;\n    const aj = 26;\n    const n = 27;\n    const N = 28;\n    const aX = 30;\n    const aS = 38;\n    const b = 40;\n    const aP = 42;\n    const T = 43;\n    const J = 44;\n    const aH = 46;\n    TYPE_GUIDE = 100, TYPE_TRANSMOGSET = 101, TYPE_OUTFIT = 110, TYPE_PETABILITY = 200, ICONIZE_TYPES = [aa, T, aP, t, ai], CURSOR_HSPACE = 15, CURSOR_VSPACE = 15, _LANG = {\n      0: {\n        achievementComplete: \"Achievement earned by $1 on $2/$3/$4\",\n        loading: \"Loadingâ€¦\",\n        noResponse: \"No response from server :(\",\n        notFound: \"%s Not Found\"\n      },\n      1: {\n        achievementComplete: \"$1ì´(ê°€) $2/$3/$4ì— ì—…ì ì„ ë‹¬ì„±í•¨\",\n        loading: \"ë¡œë”© ì¤‘â€¦\",\n        noResponse: \"ì„œë²„ê°€ ì‘ë‹µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ :(\",\n        notFound: \"%s ì„(ë¥¼) ì°¾ì„ ìˆ˜ ì—†ìŒ\"\n      },\n      2: {\n        achievementComplete: \"Haut-fait reÃ§u par $1 le $2/$3/$4\",\n        loading: \"Chargementâ€¦\",\n        noResponse: \"Pas de rÃ©ponse du serveur :(\",\n        notFound: \"%s non trouvÃ©\"\n      },\n      3: {\n        achievementComplete: \"Erfolg wurde von $1 am $3.$2.$4 errungen\",\n        loading: \"LÃ¤dtâ€¦\",\n        noResponse: \"Keine Antwort vom Server :(\",\n        notFound: \"%s nicht gefunden\"\n      },\n      4: {\n        achievementComplete: \"$1åœ¨$2/$3/$4ä¸ŠèŽ·å¾—æˆå°±\",\n        loading: \"æ­£åœ¨è½½å…¥â€¦\",\n        noResponse: \"æœåŠ¡å™¨æ²¡æœ‰å“åº” :(\",\n        notFound: \"%sæœªæ‰¾åˆ°\"\n      },\n      6: {\n        achievementComplete: \"Logro conseguido por $1 el $2/$3/$4\",\n        loading: \"Cargandoâ€¦\",\n        noResponse: \"No hay respuesta del servidor :(\",\n        notFound: \"%s no encontrado/a\"\n      },\n      7: {\n        achievementComplete: \"$1 Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð»(Ð°) ÑÑ‚Ð¾ Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ðµ $2/$3/$4\",\n        loading: \"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°â€¦\",\n        noResponse: \"ÐÐµÑ‚ Ð¾Ñ‚Ð²ÐµÑ‚Ð° Ð¾Ñ‚ ÑÐµÑ€Ð²ÐµÑ€Ð° :(\",\n        notFound: \"%s Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾\"\n      },\n      8: {\n        achievementComplete: \"Conquista conseguida por $1 em $3/$2/$4\",\n        loading: \"Carregandoâ€¦\",\n        noResponse: \"Sem resposta do servidor :(\",\n        notFound: \"%s nÃ£o encontrado(a)\"\n      },\n      9: {\n        achievementComplete: \"Impresa compiuta da $1 su $2/$3/$4\",\n        loading: \"Caricamentoâ€¦\",\n        noResponse: \"Nessuna risposta dal server :(\",\n        notFound: \"%s Non Trovato\"\n      }\n    }, STEALTH_TYPES = [TYPE_GUIDE];\n    const ac = new function() {\n      const a3 = {};\n      const a2 = {};\n      const a1 = {};\n      const a0 = {};\n      this.fetch = (a6, a7) => {\n        if (!a0.hasOwnProperty(a6) || a0[a6].hasOwnProperty(a7)) {\n          return\n        }\n        a0[a6][a7] = ag;\n        a3[a6][a7] = [];\n        let subdomain = WH.dataEnvKey[a7];\n        switch (a7) {\n          case WH.dataEnv.BETA:\n            subdomain = WH.BETA_DOMAIN || subdomain;\n            break;\n          case WH.dataEnv.MAIN:\n            subdomain = \"www\";\n            break\n        }\n        let url;\n        if (S) {\n          url = ak(subdomain) + a2[a6]\n        } else {\n          url = WH.Url.getDataPageUrl(a2[a6].replace(\"/data/\", \"\"))\n        }\n        url += \"&json\";\n        WH.xhrJsonRequest(url, ((a8, ba, a9) => {\n          if (!a9) {\n            WH.error(\"Wowhead tooltips failed to load entity scaling data.\", ax(a8));\n            return\n          }\n          ac.setData(a8, ba, a9)\n        }).bind(null, a6, a7))\n      };\n      this.getSpellsBySpec = (a6, a7) => {\n        const a8 = U || WH.getDataEnv();\n        this.registerCallback(X, a8, () => {\n          const ba = a1[X][a8];\n          const a9 = [];\n          if (ba.specMap.hasOwnProperty(a6)) {\n            a9 = ba[\"class\"][ba.specMap[a6]].concat(ba.spec[a6] || [])\n          }\n          a7(a9)\n        })\n      };\n      this.isLoaded = (a6, a7) => {\n        if (!a0.hasOwnProperty(a6)) {\n          return true\n        }\n        if (a0[a6][a7] === ao) {\n          a4();\n          return true\n        }\n        return false\n      };\n      this.registerCallback = (a6, a8, a7) => {\n        if (this.isLoaded(a6, a8)) {\n          window.requestAnimationFrame(a7);\n          return\n        }\n        if (!a3[a6].hasOwnProperty(a8)) {\n          this.fetch(a6, a8)\n        }\n        a3[a6][a8].push(a7)\n      };\n      this.setData = (a7, a9, a8) => {\n        a0[a7][a9] = ao;\n        a3[a7][a9] = a3[a7][a9] || [];\n        a1[a7][a9] = a8;\n        a4();\n        const a6 = a3[a7][a9];\n        while (a6.length) {\n          a6.shift()()\n        }\n      };\n\n      const a5 = () => {\n        a2[t] = \"/data/item-scaling\";\n        a2[ai] = \"/data/spell-scaling\";\n        a2[X] = \"/data/spec-spells\";\n        for (const a6 in a2) {\n          if (!a2.hasOwnProperty(a6)) {\n            continue\n          }\n          a0[a6] = {};\n          a3[a6] = {};\n          a1[a6] = {}\n        }\n      }\n\n      const a4 = () => {\n        const a7 = U || WH.getDataEnv();\n        let a6 = null;\n        if (a6 = a1[t][a7]) {\n          WH.staminaFactor = a6.staminaByIlvl;\n          WH.convertRatingToPercent.RB = a6.combatRatingsBase;\n          WH.convertRatingToPercent.LH = a6.ratingsToPercentLH;\n          WH.convertRatingToPercent.RM = a6.ratingsToPercentRM;\n          WH.convertRatingToPercent.LT = a6.ratingsToPercentLT;\n          WH.convertScalingFactor.SV = a6.itemScalingValue;\n          WH.convertScalingFactor.SD = a6.scalingFactors;\n          WH.curvePoints = a6.curvePoints;\n          WH.applyStatModifications.ScalingData = a6.scalingData;\n          WH.Tooltip.ARTIFACT_KNOWLEDGE_MULTIPLIERS = a6.artifactKnowledgeMultiplier;\n          WH.Tooltip.BONUS_ITEM_EFFECTS = a6.bonusEffects.bonus;\n          WH.Tooltip.ITEM_EFFECT_NAMES = a6.bonusEffects.effectSpellName;\n          WH.Tooltip.ITEM_EFFECT_TOOLTIP_HTML = a6.bonusEffects.effect;\n          WH.contentTuningLevels = a6.contentTuningLevels\n        }\n        if (a6 = a1[ai][a7]) {\n          WH.convertScalingSpell.SV = a6.scalingValue;\n          WH.convertScalingSpell.SpellInformation = a6.spellInformation;\n          WH.convertScalingSpell.RandPropPoints = a6.randPropPoints\n        }\n      }\n      a5()\n    };\n    this.setScales = ac.setData;\n    const p = {\n      0: \"enus\",\n      1: \"kokr\",\n      2: \"frfr\",\n      3: \"dede\",\n      4: \"zhcn\",\n      6: \"eses\",\n      7: \"ruru\",\n      8: \"ptbr\",\n      9: \"itit\"\n    };\n    const ab = {\n      getId: () => {\n        return 0\n      },\n      getName: () => {\n        return \"enus\"\n      }\n    };\n    if (typeof aR === \"undefined\") {\n      const aR = {\n        traits: {\n          agi: [\"Agility\", \"Agi\", \"Agi\"],\n          arcres: [\"Arcane resistance\", \"Arcane Resist\", \"ArcR\"],\n          arcsplpwr: [\"Arcane spell power\", \"Arcane Power\", \"ArcP\"],\n          armor: [\"Armor\", \"Armor\", \"Armor\"],\n          armorbonus: [\"Additional armor\", \"Bonus Armor\", \"AddAr\"],\n          armorpenrtng: [\"Armor penetration rating\", \"Armor Pen\", \"Pen\"],\n          atkpwr: [\"Attack power\", \"AP\", \"AP\"],\n          block: [\"Block value\", \"Block Value\", \"BkVal\"],\n          blockrtng: [\"Block rating\", \"Block\", \"Block\"],\n          critstrkrtng: [\"Critical strike rating\", \"Crit\", \"Crit\"],\n          defrtng: [\"Defense rating\", \"Defense\", \"Def\"],\n          dmg: [\"Weapon damage\", \"Damage\", \"Dmg\"],\n          dmgmax1: [\"Maximum damage\", \"Max Damage\", \"Max\"],\n          dmgmin1: [\"Minimum damage\", \"Min Damage\", \"Min\"],\n          dodgertng: [\"Dodge rating\", \"Dodge\", \"Dodge\"],\n          dps: [\"Damage per second\", \"DPS\", \"DPS\"],\n          exprtng: [\"Expertise rating\", \"Expertise\", \"Exp\"],\n          firres: [\"Fire resistance\", \"Fire Resist\", \"FirR\"],\n          firsplpwr: [\"Fire spell power\", \"Fire Power\", \"FireP\"],\n          frores: [\"Frost resistance\", \"Frost Resist\", \"FroR\"],\n          frosplpwr: [\"Frost spell power\", \"Frost Power\", \"FroP\"],\n          hastertng: [\"Haste rating\", \"Haste\", \"Haste\"],\n          health: [\"Health\", \"Health\", \"Hlth\"],\n          healthrgn: [\"Health regeneration\", \"HP5\", \"HP5\"],\n          hitrtng: [\"Hit rating\", \"Hit\", \"Hit\"],\n          holres: [\"Holy resistance\", \"Holy Resist\", \"HolR\"],\n          holsplpwr: [\"Holy spell power\", \"Holy Power\", \"HolP\"],\n          \"int\": [\"Intellect\", \"Int\", \"Int\"],\n          level: [\"Level\", \"Level\", \"Lvl\"],\n          mana: [\"Mana\", \"Mana\", \"Mana\"],\n          manargn: [\"Mana regeneration\", \"MP5\", \"MP5\"],\n          mastrtng: [\"Mastery rating\", \"Mastery\", \"Mastery\"],\n          mleatkpwr: [\"Melee attack power\", \"Melee AP\", \"AP\"],\n          mlecritstrkrtng: [\"Melee critical strike rating\", \"Melee Crit\", \"Crit\"],\n          mledmgmax: [\"Melee maximum damage\", \"Melee Max Damage\", \"Max\"],\n          mledmgmin: [\"Melee minimum damage\", \"Melee Min Damage\", \"Min\"],\n          mledps: [\"Melee DPS\", \"Melee DPS\", \"DPS\"],\n          mlehastertng: [\"Melee haste rating\", \"Melee Haste\", \"Haste\"],\n          mlehitrtng: [\"Melee hit rating\", \"Melee Hit\", \"Hit\"],\n          mlespeed: [\"Melee speed\", \"Melee Speed\", \"Speed\"],\n          natres: [\"Nature resistance\", \"Nature Resist\", \"NatR\"],\n          natsplpwr: [\"Nature spell power\", \"Nature Power\", \"NatP\"],\n          nsockets: [\"Number of sockets\", \"Sockets\", \"Sockt\"],\n          parryrtng: [\"Parry rating\", \"Parry\", \"Parry\"],\n          reqarenartng: [\"Required personal and team arena rating\", \"Req Rating\", \"Rating\"],\n          reqlevel: [\"Required level\", \"Req Level\", \"Level\"],\n          resirtng: [\"PvP Resilience rating\", \"PvP Resilience\", \"Resil\"],\n          rgdatkpwr: [\"Ranged attack power\", \"Ranged AP\", \"RAP\"],\n          rgdcritstrkrtng: [\"Ranged critical strike rating\", \"Ranged Crit\", \"Crit\"],\n          rgddmgmax: [\"Ranged maximum damage\", \"Ranged Max Damage\", \"Max\"],\n          rgddmgmin: [\"Ranged minimum damage\", \"Ranged Min Damage\", \"Min\"],\n          rgddps: [\"Ranged DPS\", \"Ranged DPS\", \"DPS\"],\n          rgdhastertng: [\"Ranged haste rating\", \"Ranged Haste\", \"Haste\"],\n          rgdhitrtng: [\"Ranged hit rating\", \"Ranged Hit\", \"Hit\"],\n          rgdspeed: [\"Ranged speed\", \"Ranged Speed\", \"Speed\"],\n          sepbasestats: \"Base stats\",\n          sepdefensivestats: \"Defensive stats\",\n          sepindividualstats: \"Individual stats\",\n          sepoffensivestats: \"Offensive stats\",\n          sepresistances: \"Resistances\",\n          sepweaponstats: \"Weapon stats\",\n          shares: [\"Shadow resistance\", \"Shadow Resist\", \"ShaR\"],\n          shasplpwr: [\"Shadow spell power\", \"Shadow Power\", \"ShaP\"],\n          speed: [\"Speed\", \"Speed\", \"Speed\"],\n          spi: [\"Spirit\", \"Spi\", \"Spi\"],\n          splcritstrkrtng: [\"Spell critical strike rating\", \"Spell Crit\", \"Crit\"],\n          spldmg: [\"Damage done by spells\", \"Spell Damage\", \"Dmg\"],\n          splheal: [\"Healing done by spells\", \"Healing\", \"Heal\"],\n          splpwr: [\"Spell power\", \"Spell Power\", \"SP\"],\n          splhastertng: [\"Spell haste rating\", \"Spell Haste\", \"Haste\"],\n          splhitrtng: [\"Spell hit rating\", \"Spell Hit\", \"Hit\"],\n          splpen: [\"Spell penetration\", \"Spell Pen\", \"Pen\"],\n          sta: [\"Stamina\", \"Sta\", \"Sta\"],\n          str: [\"Strength\", \"Str\", \"Str\"],\n          pvppower: [\"PvP Power\", \"PvPPower\", \"PvPPower\"]\n        }\n      }\n    }\n\n    const au = () => {\n      if (WH.Tooltip) {\n        WH.wowheadRemotePreload = true\n      }\n      if (S) {\n        if (!WH.wowheadRemotePreload) {\n          let jsFiles = [\"basic.js?41\"];\n          if (g(\"iconSize\")) {\n            jsFiles.push(\"global/WH/Icon.js?2\")\n          }\n          for (let i = 0, jsFile; jsFile = jsFiles[i]; i++) {\n            let script = document.createElement(\"script\");\n            script.src = WH.staticUrl + \"/js/\" + jsFile;\n            M.appendChild(script)\n          }\n        }\n      } else {\n        Q();\n        r(() => {\n          ab = window.Locale;\n          ac.fetch(t, WH.getDataEnv());\n          ac.fetch(ai, WH.getDataEnv())\n        })\n      }\n    }\n\n    const az = () => {\n      const a1 = g(\"hide\");\n      if (!a1) {\n        return\n      }\n      if (typeof aQ !== \"undefined\") {\n        return\n      }\n      if (!document.styleSheets) {\n        return\n      }\n      const a2 = document.createElement(\"style\");\n      a2.type = \"text/css\";\n      M.appendChild(a2);\n      if (!window.createPopup) {\n        M.appendChild(document.createTextNode(\"\"))\n      }\n      aQ = document.styleSheets[document.styleSheets.length - 1];\n      for (const a0 in a1) {\n        if (!a1.hasOwnProperty(a0) || !a1[a0]) {\n          continue\n        }\n        if (aQ.insertRule) {\n          aQ.insertRule(\".wowhead-tooltip .whtt-\" + a0 + \"{display: none}\", aQ.cssRules.length)\n        } else {\n          if (aQ.addRule) {\n            aQ.addRule(\".wowhead-tooltip .whtt-\" + a0, \"display: none\", -1)\n          }\n        }\n      }\n    }\n    this.getEntity = (a1, a4, a3, a0) => {\n      const a2 = aW(a1);\n      a2[a4] = a2[a4] || {};\n      a2[a4][a3] = a2[a4][a3] || {};\n      a2[a4][a3][a0] = a2[a4][a3][a0] || {\n        status: O,\n        callbacks: [],\n        data: {}\n      };\n      return a2[a4][a3][a0]\n    };\n\n    const aW = (a0) => {\n      if (typeof Z[a0] !== \"object\") {\n        throw new Error(\"Wowhead tooltips could not find config for entity type [\" + a0 + \"].\")\n      }\n      return Z[a0].data\n    }\n\n    const aN = (a0) => {\n      if (typeof Z[a0] !== \"object\") {\n        WH.error(\"Wowhead tooltips could not find config for entity type.\", a0);\n        return undefined\n      }\n      if (!WH.wowheadRemote || !Z[a0].hasOwnProperty(\"maxId\")) {\n        return undefined\n      }\n      return {\n        min: Z[a0].hasOwnProperty(\"minId\") ? Z[a0].minId : 1,\n        max: Z[a0].maxId\n      }\n    }\n\n    const ax = (a0) => {\n      if (typeof Z[a0] !== \"object\") {\n        WH.error(\"Wowhead tooltips could not find config for entity type.\", a0);\n        return \"Entity\"\n      }\n      return Z[a0].name\n    }\n\n    const ap = (a0) => {\n      if (typeof Z[a0] !== \"object\") {\n        WH.error(\"Wowhead tooltips could not find config for entity type.\", a0);\n        return \"unknown\"\n      }\n      return Z[a0].path\n    }\n\n    const a = (a0, a1) => {\n      const a2 = _LANG[a0] || _LANG[0];\n      return a2[a1] || \"\"\n    }\n\n    const g = (a1) => {\n      const a0 = R();\n      if (!a0) {\n        return null\n      }\n      if (!a0.hasOwnProperty(a1)) {\n        if (aY[a1] && a0.hasOwnProperty(aY[a1])) {\n          return a0[aY[a1]]\n        }\n        return null\n      }\n      return a0[a1]\n    }\n\n    const R = () => {\n      if (typeof whTooltips === \"object\") {\n        return whTooltips\n      }\n      if (typeof wowhead_tooltips === \"object\") {\n        return wowhead_tooltips\n      }\n      return null\n    }\n\n    const aJ = (a0) => {\n      if (typeof Z[a0] !== \"object\") {\n        WH.error(\"Wowhead tooltips could not find config for entity type.\", a0);\n        return false\n      }\n      return Z[a0].mobile\n    }\n\n    const Q = () => {\n      if (G) {\n        return\n      }\n      G = true;\n      WH.aE(document, \"keydown\", (a0) => {\n        switch (a0.keyCode) {\n          case 27:\n            $WowheadPower.clearTouchTooltip();\n            WH.Tooltip.hide();\n            break\n        }\n      });\n      // if (WH.isTouch()) {\n      // f()\n      // } else {\n      WH.aE(document, \"mouseover\", H)\n      // }\n    }\n    this.attachTouchTooltips = (a0) => {\n      if (!WH.isTouch()) {\n        return\n      }\n      if (a0 && a0.nodeType === 1) {\n        f(a0)\n      }\n    };\n\n    const r = (a0) => {\n      if (document.readyState === \"loading\") {\n        document.addEventListener(\"DOMContentLoaded\", a0)\n      } else {\n        a0()\n      }\n    }\n\n    const am = (a0) => {\n      if (!a0.dataset || a0.dataset.hasWhTouchEvent === \"true\") {\n        return\n      }\n      if (a0.onclick == null) {\n        a0.onclick = o\n      } else {\n        WH.aE(a0, \"click\", o)\n      }\n      a0.dataset.hasWhTouchEvent = \"true\"\n    }\n\n    const f = (a0) => {\n      if (!WH.isTouch()) {\n        return\n      }\n      r(() => {\n        a0 = a0 || document.body;\n        const a2 = WH.gE(a0, \"a\");\n        for (const a3 = 0, a1 = a2.length; a3 < a1; a3++) {\n          am(a2[a3])\n        }\n      })\n    }\n    this.init = () => {\n      if (g(\"iconSize\") && typeof Icon === \"undefined\") {\n        setTimeout($WowheadPower.init, 10);\n        return\n      }\n      if (S) {\n        if (!WH.wowheadRemotePreload) {\n          WH.ae(M, WH.ce(\"link\", {\n            type: \"text/css\",\n            href: WH.staticUrl + \"/css/basic.css?16\",\n            rel: \"stylesheet\"\n          }));\n          if (g(\"iconSize\")) {\n            WH.ae(M, WH.ce(\"link\", {\n              type: \"text/css\",\n              href: WH.staticUrl + \"/css/global/icon.css\",\n              rel: \"stylesheet\"\n            }))\n          }\n        }\n      }\n      Q();\n      r(() => {\n        if (g(\"renameLinks\") || g(\"colorLinks\") || g(\"iconizeLinks\") || g(\"iconSize\")) {\n          let links = x();\n          for (let i = 0; i < links.length; i++) {\n            I(links[i])\n          }\n          az()\n        } else {\n          if (document.querySelectorAll) {\n            let calcLinks = document.querySelectorAll('a[href*=\"wowhead.com/talent-calc/embed/\"]');\n            for (let i = 0; i < calcLinks.length; i++) {\n              I(calcLinks[i])\n            }\n            calcLinks = document.querySelectorAll('a[href*=\"wowhead.com/soulbind-calc/embed/\"]');\n            for (let i = 0; i < calcLinks.length; i++) {\n              I(calcLinks[i])\n            }\n          }\n        }\n      })\n    };\n\n    const L = (a0) => {\n      let pos = WH.getCursorPos(a0);\n      aw = pos.x;\n      av = pos.y\n    }\n\n    const an = (a1, a2) => {\n      if (a1.classList) {\n        for (let i = 0, len = a2.length; i < len; i++) {\n          a1.classList.add(a2[i])\n        }\n      } else {\n        for (const a0 = 0; a0 < a2.length; a0++) {\n          let classAttribute = a1.getAttribute && a1.getAttribute(\"class\") || \"\";\n          if ((\" \" + classAttribute + \" \").indexOf(\" \" + a2[a0] + \" \") < 0) {\n            a1.setAttribute(\"class\", (classAttribute ? classAttribute + \" \" : \"\") + a2[a0])\n          }\n        }\n      }\n    }\n\n    const x = () => {\n      let result = [];\n      for (let i = 0; i < document.links.length; i++) {\n        result.push(document.links[i])\n      }\n      return result\n    }\n\n    const I = (a3, bh, a1) => {\n      if (bh && a3.dataset && a3.dataset.simpleTooltip) {\n        if (!WH.isTouch() && !a3.onmouseout) {\n          if (a3.dataset.tooltipMode !== \"attach\") {\n            a3.onmousemove = aC\n          }\n          a3.onmouseout = ah\n        }\n        WH.Tooltip.show(a3, a3.dataset.simpleTooltip.length < 30 ? '<div class=\"no-wrap\">' + a3.dataset.simpleTooltip + \"</div>\" : a3.dataset.simpleTooltip);\n        return c\n      }\n      if (a3.nodeName !== \"A\" && a3.nodeName !== \"AREA\") {\n        return aM\n      }\n      const a5 = a3.rel;\n      try {\n        if (a3.dataset && a3.dataset.hasOwnProperty(\"wowhead\")) {\n          a5 = a3.dataset.wowhead\n        } else {\n          if (a3.getAttribute && a3.getAttribute(\"data-wowhead\")) {\n            console.log(a3.getAttribute(\"data-wowhead\"))\n            a5 = a3.getAttribute(\"data-wowhead\")\n          }\n        }\n      } catch (bl) {\n        void (0)\n      }\n      if ((!a3.href.length && !a5) || (a5 && /^np\\b/.test(a5)) || (a3.getAttribute(\"data-disable-wowhead-tooltip\") === \"true\") || (WH.isTouch() && a3.getAttribute(\"data-disable-wowhead-touch-tooltip\") === \"true\")) {\n        return l\n      }\n      let tcRegex = /^https?:\\/\\/(?:[^/]+\\.)?(classic|tbc|wotlk)\\.(?:[^/]+\\.)?wowhead\\.com\\/talent-calc\\/embed\\/[^#]+/;\n      let tcMatches = a3.href.match(tcRegex);\n      if (S && tcMatches) {\n        let height = 513;\n        let width = 750;\n        if (tcMatches[1] === \"tbc\") {\n          height += 120\n        } else {\n          if (tcMatches[1] === \"wotlk\") {\n            height += 240\n          }\n        }\n        let paddingTop = (height / width) * 100 + \"%\";\n        a3.parentNode.replaceChild(WH.ce(\"div\", {\n          style: {\n            margin: \"10px auto\",\n            maxHeight: height + \"px\",\n            maxWidth: width + \"px\"\n          },\n          className: \"wowhead-embed wowhead-embed-talent-calc\"\n        }, WH.ce(\"div\", {\n          style: {\n            height: 0,\n            paddingTop: paddingTop,\n            position: \"relative\",\n            width: \"100%\"\n          }\n        }, WH.ce(\"iframe\", {\n          src: tcMatches[0],\n          width: \"100%\",\n          height: \"100%\",\n          style: {\n            border: 0,\n            left: 0,\n            position: \"absolute\",\n            top: 0,\n            borderRadius: \"6px\"\n          },\n          sandbox: \"allow-scripts allow-top-navigation\"\n        }))), a3);\n        return c\n      }\n      let scRegex = /^https?:\\/\\/(?:[^/]+\\.)?wowhead\\.com\\/soulbind-calc\\/embed\\/.+/;\n      let scMatches = a3.href.match(scRegex);\n      if (S && scMatches) {\n        a3.parentNode.replaceChild(WH.ce(\"div\", {\n          style: {\n            maxWidth: \"734px\",\n            maxHeight: \"722px\",\n            margin: \"10px auto\"\n          },\n          className: \"wowhead-embed wowhead-embed-soulbind-calc\"\n        }, WH.ce(\"div\", {\n          style: {\n            position: \"relative\",\n            width: \"100%\",\n            height: 0,\n            paddingTop: \"98.5%\"\n          }\n        }, WH.ce(\"iframe\", {\n          src: scMatches[0],\n          width: \"100%\",\n          height: \"100%\",\n          style: {\n            border: 0,\n            left: 0,\n            position: \"absolute\",\n            top: 0,\n            borderRadius: \"6px\"\n          },\n          sandbox: \"allow-scripts allow-top-navigation\"\n        }))), a3);\n        return c\n      }\n      let params = {};\n      m = params;\n      const a4 = (bn, bo, bp) => {\n        switch (bo) {\n          case \"buff\":\n          case \"map\":\n          case \"noimage\":\n          case \"nomajor\":\n          case \"notip\":\n          case \"premium\":\n          case \"pvp\":\n          case \"sock\":\n          case \"text\":\n          case \"twcata\":\n          case \"twmists\":\n          case \"twtbc\":\n          case \"twwotlk\":\n            params[bo] = true;\n            break;\n          case \"artk\":\n          case \"c\":\n          case \"class\":\n          case \"dd\":\n          case \"ddsize\":\n          case \"diff\":\n          case \"diffnew\":\n          case \"ench\":\n          case \"gem1lvl\":\n          case \"gem2lvl\":\n          case \"gem3lvl\":\n          case \"ilvl\":\n          case \"level\":\n          case \"lvl\":\n          case \"nlc\":\n          case \"pwr\":\n          case \"q\":\n          case \"rand\":\n          case \"rank\":\n          case \"spec\":\n          case \"tink\":\n          case \"upgd\":\n            params[bo] = parseInt(bp);\n            break;\n          case \"abil\":\n          case \"azerite-essence-powers\":\n          case \"azerite-powers\":\n          case \"bonus\":\n          case \"crafted-stats\":\n          case \"cri\":\n          case \"forg\":\n          case \"gem1bonus\":\n          case \"gem2bonus\":\n          case \"gem3bonus\":\n          case \"gems\":\n          case \"know\":\n          case \"pcs\":\n          case \"rewards\":\n            params[bo] = bp.split(\":\");\n            break;\n          case \"build\":\n          case \"domain\":\n          case \"who\":\n            params[bo] = bp;\n            break;\n          case \"image\":\n            if (bp === \"premium\") {\n              params[bp] = true\n            } else {\n              params[bo] = bp ? (\"_\" + bp) : \"\"\n            }\n            break;\n          case \"transmog\":\n            if (bp === \"hidden\") {\n              params[bo] = bp\n            } else {\n              params[bo] = parseInt(bp)\n            }\n            break;\n          case \"when\":\n            params[bo] = new Date(parseInt(bp));\n            break\n        }\n      };\n      let rawDomain;\n      let typeName;\n      let id;\n      let url;\n      if (aA.applyto & 1) {\n        if (a3.href.indexOf(\"http://\") === 0 || a3.href.indexOf(\"https://\") === 0) {\n          let matches = a3.href.match(/^https?:\\/\\/(.+?)?\\.?(?:wowhead)\\.com(?:\\:\\d+)?\\/\\??(item|quest|spell|zone|achievement|event|itemset|item-set|transmog-set|outfit|guide|statistic|currency|npc|object|pet-ability|petability|building|follower|champion|bfa-champion|garrisonability|mission-ability|mission|ship|threat|resource|order-advancement|affix|azerite-essence|azerite-essence-power|storyline|adventure-combatant-ability|mount|recipe|battle-pet)[=/](?:[^/?&#]+-)?(-?\\d+(?:\\.\\d+)?)/);\n          if (!matches) {\n            matches = a3.href.match(/^https?:\\/\\/(.+?)?\\.?(?:wowhead)\\.com(?:\\:\\d+)?\\/(guide)s\\/([^\\?&#]+)/)\n          }\n          if (matches) {\n            rawDomain = matches[1];\n            typeName = matches[2];\n            id = matches[3];\n            url = a3.href\n          }\n          D = 0\n        } else {\n          let matches = a3.href.match(/\\/\\??(item|quest|spell|zone|achievement|event|itemset|item-set|transmog-set|outfit|statistic|currency|npc|object|pet-ability|petability|building|follower|champion|bfa-champion|garrisonability|mission-ability|mission|ship|threat|resource|order-advancement|affix|azerite-essence|azerite-essence-power|storyline|adventure-combatant-ability|guide|mount|recipe|battle-pet)[=/](?:[^/?&#]+-)?(-?\\d+(?:\\.\\d+)?)/);\n          if (!matches) {\n            matches = a3.href.match(/\\/(guide)s\\/([^\\?&#]+)/)\n          }\n          if (matches) {\n            typeName = matches[1];\n            id = matches[2];\n            url = a3.href\n          }\n          D = 1\n        }\n      }\n      if (!typeName && a5 && (aA.applyto & 2)) {\n        let matches = a5.match(/(item|quest|spell|zone|achievement|event|itemset|item-set|transmog-set|outfit|statistic|currency|npc|object|pet-ability|petability|building|follower|champion|bfa-champion|garrisonability|mission-ability|mission|ship|threat|resource|order-advancement|affix|azerite-essence|azerite-essence-power|storyline|adventure-combatant-ability|guide|mount|recipe|battle-pet).?(-?\\d+(?:\\.\\d+)?)/);\n        if (matches) {\n          typeName = matches[1];\n          id = matches[2]\n        }\n        D = 1\n      }\n      if (!typeName) {\n        return l\n      }\n      let type = WH.getTypeIdFromTypeString(typeName);\n      if (WH.isTouch() && !a1 && !aJ(type)) {\n        return l\n      }\n      a3.href.replace(/([a-zA-Z0-9-]+)=?([^&?#]*)/g, a4);\n      if (a5) {\n        a5.replace(/([a-zA-Z0-9-]+)=?([^&?#]*)/g, a4)\n      }\n      if (params.gems && params.gems.length > 0) {\n        let bi = null;\n        for (bi = Math.min(3, params.gems.length - 1); bi >= 0; --bi) {\n          if (parseInt(params.gems[bi])) {\n            break\n          }\n        } ++bi;\n        if (bi == 0) {\n          delete params.gems\n        } else {\n          if (bi < params.gems.length) {\n            params.gems = params.gems.slice(0, bi)\n          }\n        }\n      }\n      const a2 = [\"bonus\", \"gem1bonus\", \"gem2bonus\", \"gem3bonus\"];\n      for (let bc = 0; a6 = a2[bc]; bc++) {\n        if (params[a6] && params[a6].length > 0) {\n          for (bi = Math.min(16, params[a6].length - 1); bi >= 0; --bi) {\n            if (parseInt(params[a6][bi])) {\n              break\n            }\n          } ++bi;\n          if (bi == 0) {\n            delete params[a6]\n          } else {\n            if (bi < params[a6].length) {\n              params[a6] = params[a6].slice(0, bi)\n            }\n          }\n        }\n      }\n      if (params[\"crafted-stats\"] && params[\"crafted-stats\"].length > 0) {\n        let statsList = [];\n        for (let bi = 0; bi < Math.min(2, params[\"crafted-stats\"].length); bi++) {\n          let statId = parseInt(params[\"crafted-stats\"][bi]);\n          if (!isNaN(statId)) {\n            statsList.push(statId)\n          }\n        }\n        if (statsList.length == 0) {\n          delete params[\"crafted-stats\"]\n        } else {\n          params[\"crafted-stats\"] = statsList\n        }\n      }\n      if (params.abil && params.abil.length > 0) {\n        const bi = bk = [];\n        let bg = null;\n        for (bi = 0; bi < Math.min(8, params.abil.length); bi++) {\n          if (bg = parseInt(params.abil[bi])) {\n            bk.push(bg)\n          }\n        }\n        if (bk.length == 0) {\n          delete params.abil\n        } else {\n          params.abil = bk\n        }\n      }\n      if (params.rewards && params.rewards.length > 0) {\n        let bi = null;\n        for (bi = Math.min(3, params.rewards.length - 1); bi >= 0; --bi) {\n          if (/^\\d+.\\d+$/.test(params.rewards[bi])) {\n            break\n          }\n        } ++bi;\n        if (bi == 0) {\n          delete params.rewards\n        } else {\n          if (bi < params.rewards.length) {\n            params.rewards = params.rewards.slice(0, bi)\n          }\n        }\n      }\n      ar = a3;\n      const bm = null;\n      const bf = ab.getId();\n      const a0 = WH.getDataEnv();\n      if (params.domain) {\n        bm = params.domain.toLowerCase()\n      } else {\n        if (rawDomain) {\n          bm = rawDomain.toLowerCase().replace(/(?:^|\\.)(staging|dev)$/, \"\")\n        }\n      }\n      if (bm !== null) {\n        a0 = WH.dataEnv.MAIN;\n        bf = WH.getLocaleFromDomain(bm);\n        if ((new RegExp(\"\\\\b\" + WH.BETA_DOMAIN + \"\\\\b\")).test(bm)) {\n          a0 = WH.dataEnv.BETA\n        } else {\n          if (/^sl|shadow$/.test(bm)) {\n            a0 = WH.dataEnv.BETA\n          } else {\n            for (const ba in WH.dataEnv) {\n              if (!WH.dataEnv.hasOwnProperty(ba) || !WH.dataEnvKey.hasOwnProperty(WH.dataEnv[ba])) {\n                continue\n              }\n              if ((new RegExp(\"\\\\b(\" + WH.dataEnvTerm[WH.dataEnv[ba]] + \"|\" + WH.dataEnvKey[WH.dataEnv[ba]] + \")\\\\b\")).test(bm)) {\n                a0 = WH.dataEnv[ba];\n                break\n              }\n            }\n          }\n        }\n      }\n      if (a0 === WH.dataEnv.PTR && !WH.isPtrActive()) {\n        a0 = WH.dataEnv.MAIN\n      }\n      if (a0 === WH.dataEnv.BETA && !WH.isBetaActive()) {\n        a0 = WH.dataEnv.MAIN\n      }\n      if ([WH.dataEnv.BETA, WH.dataEnv.PTR].indexOf(a0) >= 0) {\n        bf = 0\n      }\n      if (a3.href.indexOf(\"#\") !== -1 && document.location.href.indexOf(typeName + \"=\" + id) !== -1) {\n        return l\n      }\n      aq = aF[\"float\"];\n      if (WH.isTouch() && document.documentElement.offsetWidth < w) {\n        aq = aF.screen\n      } else {\n        if (((a3.parentNode.getAttribute && a3.parentNode.getAttribute(\"class\") || \"\").indexOf(\"icon\") === 0 && a3.parentNode.nodeName === \"DIV\") || a3.dataset.whattach === \"icon\" || a3.dataset.tooltipMode === \"icon\") {\n          aq = aF.attachToIcon\n        } else {\n          if (WH.isTouch() || a3.dataset.whattach === \"true\" || a3.dataset.tooltipMode === \"attach\") {\n            aq = aF.attach\n          } else {\n            if (!S) {\n              const a8 = a3.parentNode;\n              const a7 = 0;\n              while (a8) {\n                if ((a8.getAttribute && a8.getAttribute(\"class\") || \"\").indexOf(\"menu-inner\") === 0) {\n                  aq = aF.attachWithoutScreenshot;\n                  break\n                }\n                a7++;\n                if (a7 > 9) {\n                  break\n                }\n                a8 = a8.parentNode\n              }\n            }\n          }\n        }\n      }\n      if (!WH.isTouch() && !a3.onmouseout) {\n        if (aq === aF[\"float\"]) {\n          a3.onmousemove = aC\n        }\n        a3.onmouseout = ah\n      }\n      if (aq === aF[\"float\"] && a3.dataset.whtticon === \"false\") {\n        aq = aF.floatWithoutIcon\n      }\n      if (!S && !a3.whContextMenuAttached) {\n        a3.whContextMenuAttached = true;\n        WH.aE(a3, \"contextmenu\", A.bind(a3, a0, bf, type, typeName, id, params, url))\n      }\n      if (bh) {\n        y = true;\n        L(bh);\n        WH.Tooltip.showingTooltip = true;\n        if (typeof a3.overrideTooltip == \"object\") {\n          const bb = a3.overrideTooltip.html;\n          const a9 = a3.overrideTooltip.html2;\n          if (typeof a3.overrideTooltip.htmlGenerator == \"function\") {\n            bb = a3.overrideTooltip.htmlGenerator(a3.overrideTooltip)\n          }\n          if (typeof a3.overrideTooltip.html2Generator == \"function\") {\n            a9 = a3.overrideTooltip.html2Generator(a3.overrideTooltip)\n          }\n          if (a3.overrideTooltip.spanClass) {\n            bb = '<span class=\"' + a3.overrideTooltip.spanClass + '\">' + bb + \"</span>\";\n            if (a9) {\n              a9 = '<span class=\"' + a3.overrideTooltip.spanClass + '\">' + a9 + \"</span>\"\n            }\n          }\n          aV(bf, bb, a3.overrideTooltip.icon, a3.overrideTooltip.map, a3.overrideTooltip.spellData, a9, a3.overrideTooltip.image, a3.overrideTooltip.imageClass)\n        } else {\n          e(type, id, a0, bf, params)\n        }\n      }\n      if (bh || !R()) {\n        return c\n      }\n      const bd = $WowheadPower.getEntity(type, at(type, id, params), a0, bf);\n      const be = [];\n      if ((g(\"renameLinks\") && a3.getAttribute(\"data-wh-rename-link\") !== \"false\") || a3.getAttribute(\"data-wh-rename-link\") === \"true\") {\n        be.push(() => {\n          delete a3.dataset.whIconAdded;\n          a3.innerHTML = \"<span>\" + bd.data.name + \"</span>\"\n        })\n      }\n      const bj = a3.getAttribute(\"data-wh-icon-size\");\n      if ((bj || g(\"iconizeLinks\")) && ICONIZE_TYPES.indexOf(type) !== -1) {\n        if (!bj) {\n          bj = g(\"iconSize\")\n        }\n        be.push(() => {\n          if (bd.data.icon && a3.dataset.whIconAdded !== \"true\") {\n            aD(a3, bd.data, bj)\n          }\n        })\n      }\n      if (g(\"colorLinks\") && type === t) {\n        be.push(() => {\n          an(a3, [\"q\" + bd.data.quality])\n        })\n      }\n      if (be.length) {\n        if (bd.status === O || bd.status === ag) {\n          bd.callbacks = bd.callbacks.concat(be);\n          if (bd.status === O) {\n            aB(type, id, a0, bf, true, params)\n          }\n        } else {\n          if (bd.status === ao || bd.status === u) {\n            while (be.length) {\n              be.shift()()\n            }\n          }\n        }\n      }\n      return c\n    }\n\n    const aD = (a1, a2, a0) => {\n      if (!a0 || typeof WH.Icon === \"undefined\" || !WH.Icon.isValidSize(a0)) {\n        a0 = \"tiny\"\n      }\n      const a3 = a2.icon.toLocaleLowerCase();\n      if (a0 === \"tiny\") {\n        an(a1, [\"icontinyl\"]);\n        if (a1.style.setProperty) {\n          a1.style.setProperty(\"padding-left\", \"18px\", \"important\")\n        } else {\n          a1.style.paddingLeft = \"18px\"\n        }\n        a1.style.verticalAlign = \"center\";\n        a1.style.background = \"url(\" + WH.staticUrl + \"/images/wow/icons/tiny/\" + a3 + \".gif) left center no-repeat\"\n      } else {\n        if (a1.getAttribute(\"data-wh-icon-added\") === \"true\") {\n          return\n        }\n        WH.aef(a1, WH.Icon.create(a3, a0, null, {\n          span: true\n        }))\n      }\n      a1.setAttribute(\"data-wh-icon-added\", \"true\")\n    }\n\n    const H = (a0) => {\n      let target = a0.target;\n      let i = 0;\n      while (target && i < 5 && I(target, a0) === aM) {\n        target = target.parentNode;\n        i++\n      }\n    }\n\n    const o = (a0) => {\n      let target = this;\n      if (target.hasWHTouchTooltip === true) {\n        return\n      }\n      let i = 0;\n      let result;\n      while (target && i < 5 && (result = I(target, a0)) === aM) {\n        target = target.parentNode;\n        i++\n      }\n      if (result === c) {\n        if (af !== null) {\n          af.removeAttribute(\"data-showing-touch-tooltip\");\n          af.hasWHTouchTooltip = false\n        }\n        af = target;\n        af.hasWHTouchTooltip = true;\n        if (a0.stopPropagation) {\n          a0.stopPropagation()\n        }\n        if (a0.preventDefault) {\n          a0.preventDefault()\n        }\n        return false\n      }\n    }\n\n    const aC = (a0) => {\n      L(a0);\n      WH.Tooltip.move(aw, av, 0, 0, CURSOR_HSPACE, CURSOR_VSPACE)\n    }\n\n    const ah = () => {\n      al = null;\n      ar = null;\n      WH.Tooltip.hide()\n    }\n\n    const ak = (a2) => {\n      if (!WH.isDev()) {\n        return \"https://\" + a2 + \".wowhead.com\"\n      }\n      const a0 = document.location.hostname.split(\".\");\n      a0 = a0[a0.length - 3];\n      if (a2 === \"www\") {\n        a2 = a0\n      } else {\n        a2 = a2 + \".\" + a0\n      }\n      const a1 = \"https://\" + a2 + \".wowhead.com\";\n      if (document.location.port !== \"\") {\n        a1 += ((document.location.port.indexOf(\":\") < 0) ? \":\" : \"\") + document.location.port\n      }\n      if (document.location.protocol !== \"https:\") {\n        a1 = a1.replace(/^https:/, \"http:\")\n      }\n      return a1\n    }\n\n    const s = (a1) => {\n      const a0 = \"tooltip\";\n      if (m && m.buff) {\n        a0 = \"buff\"\n      }\n      if (m && m.text) {\n        a0 = \"text\"\n      }\n      if (m && m.premium) {\n        a0 = \"tooltip_premium\"\n      }\n      return a0 + (a1 || \"\")\n    }\n\n    const aT = () => {\n      return (m && m.text) ? \"text_icon\" : \"icon\"\n    }\n\n    const aZ = () => {\n      return (m && m.buff ? \"buff\" : \"\") + \"spells\"\n    }\n\n    const v = (a0) => {\n      if (typeof a0 === \"undefined\") {\n        return \"image_NONE\"\n      }\n      return \"image\" + a0\n    }\n\n    const e = (a5, a1, a2, a7, a3) => {\n      if (!a3) {\n        a3 = {}\n      }\n      const a6 = at(a5, a1, a3);\n      al = a5;\n      E = a6;\n      U = a2;\n      ay = a7;\n      m = a3;\n      ac.isLoaded(a5, a2);\n      const a4 = $WowheadPower.getEntity(a5, a6, a2, a7);\n      if (a4.status === ao || a4.status === d) {\n        const a8 = a4.data[v(a3.image)];\n        const a9 = a4.data[\"image\" + a3.image + \"_class\"];\n        const a0 = K(a5, a1, a2);\n        if (a0) {\n          a8 = a0[0];\n          a9 = a0[1]\n        }\n        aV(a7, a4.data[s()], a4.data[aT()], a4.data.map, a4.data[aZ()], a4.data[s(2)], a8, a9)\n      } else {\n        if (a4.status === ag || a4.status === u) {\n          if (WH.inArray(STEALTH_TYPES, a5) == -1) {\n            aV(a7, a(a7, \"loading\"))\n          }\n        } else {\n          aB(a5, a1, a2, a7, WH.inArray(STEALTH_TYPES, a5) != -1, a3)\n        }\n      }\n    }\n\n    const A = (a7, a0, a3, a1, a6, a5, a2, a4) => {\n      if (!a4.ctrlKey || a4.button !== 2) {\n        return\n      }\n      a4.preventDefault();\n      a4.stopPropagation();\n      let menu = [];\n      let entity = $WowheadPower.getEntity(a3, at(a3, a6, a5), a7, a0);\n      if (entity.data.name) {\n        menu.push(Menu.createItem({\n          name: \"\",\n          label: WH.term(\"copy_format\", WH.TERMS.name),\n          url: WH.copyToClipboard.bind(undefined, entity.data.name, true)\n        }))\n      }\n      menu.push(Menu.createItem({\n        name: \"\",\n        label: WH.term(\"copy_format\", WH.TERMS.id),\n        url: WH.copyToClipboard.bind(undefined, a6, true)\n      }));\n      let copyableUrl = a2;\n      if (!copyableUrl && WH.Types.existsInDataEnv(a3)) {\n        copyableUrl = WH.Url.generate(WH.Entity.getPath(a3, a6), {\n          dataEnv: a7,\n          locale: a0\n        })\n      }\n      if (copyableUrl) {\n        menu.push(Menu.createItem({\n          name: \"\",\n          label: WH.term(\"copy_format\", WH.TERMS.url),\n          url: WH.copyToClipboard.bind(undefined, a2, true)\n        }))\n      }\n      let markupTag = C[a1] || a1;\n      if (WH.markup.tags[markupTag]) {\n        menu.push(Menu.createItem({\n          name: \"\",\n          label: WH.term(\"copy_format\", WH.TERMS.wowheadMarkupTag),\n          url: WH.copyToClipboard.bind(undefined, \"[\" + markupTag + \"=\" + a6 + \"]\", true)\n        }))\n      }\n      Menu.add(this, menu, {\n        noEvents: true,\n        showAtElement: true,\n        showImmediately: true\n      }, a4)\n    }\n\n    const aB = (ba, a1, a2, bd, a9, a3) => {\n      const bb = at(ba, a1, a3);\n      const a5 = $WowheadPower.getEntity(ba, bb, a2, bd);\n      if (a5.status !== O && a5.status !== aE) {\n        return\n      }\n      a5.status = ag;\n      const a7 = aN(ba);\n      if (a7 && (parseInt(a1, 10) < a7.min || parseInt(a1, 10) > a7.max)) {\n        $WowheadPower.register(ba, a1, a2, bd, {\n          error: \"ID is out of range\"\n        });\n        return\n      }\n      if (!a9) {\n        a5.timer = setTimeout(W.bind(this, ba, bb, a2, bd), 333)\n      }\n      const be = [];\n      for (const a6 in a3) {\n        switch (a6) {\n          case \"spec\":\n            if (ba === ai || ba === aP) {\n              break\n            }\n          case \"abil\":\n          case \"artk\":\n          case \"azerite-essence-powers\":\n          case \"azerite-powers\":\n          case \"bonus\":\n          case \"build\":\n          case \"class\":\n          case \"crafted-stats\":\n          case \"dd\":\n          case \"ddsize\":\n          case \"diff\":\n          case \"diffnew\":\n          case \"ench\":\n          case \"gem1bonus\":\n          case \"gem1lvl\":\n          case \"gem2bonus\":\n          case \"gem2lvl\":\n          case \"gem3bonus\":\n          case \"gem3lvl\":\n          case \"gems\":\n          case \"ilvl\":\n          case \"level\":\n          case \"lvl\":\n          case \"nlc\":\n          case \"nomajor\":\n          case \"pvp\":\n          case \"q\":\n          case \"rand\":\n          case \"rank\":\n          case \"rewards\":\n          case \"sock\":\n          case \"tink\":\n          case \"transmog\":\n          case \"twcata\":\n          case \"twmists\":\n          case \"twtbc\":\n          case \"twwotlk\":\n          case \"upgd\":\n            if (typeof a3[a6] === \"object\") {\n              be.push(a6 + \"=\" + a3[a6].join(\":\"))\n            } else {\n              if (a3[a6] === true) {\n                be.push(a6)\n              } else {\n                be.push(a6 + \"=\" + a3[a6])\n              }\n            }\n            break\n        }\n      }\n      const a4 = WH.getDomainFromLocale(bd);\n      switch (a2) {\n        case WH.dataEnv.MAIN:\n          break;\n        case WH.dataEnv.BETA:\n          if (WH.BETA_DOMAIN) {\n            a4 += (a4 ? \".\" : \"\") + WH.BETA_DOMAIN;\n            break\n          }\n        default:\n          a4 += (a4 ? \".\" : \"\") + WH.dataEnvKey[a2]\n      }\n      if (!a4) {\n        a4 = \"www\"\n      }\n      const a8 = ak(a4);\n      if (a2 === WH.dataEnv.PTR || a2 === WH.dataEnv.BETA) {\n        if (WH.getDataBuild(a2) !== \"0\") {\n          be.push(WH.getDataBuild(a2))\n        }\n      }\n      if (!ac.isLoaded(ba, a2)) {\n        ac.fetch(ba, a2)\n      }\n      if (ba == t && a3 && a3.hasOwnProperty(\"lvl\") && !ac.isLoaded(ai, a2)) {\n        ac.fetch(ai, a2)\n      }\n      const a0 = be.length ? \"?\" + be.join(\"&\") : \"\";\n      const bc = a8 + \"/tooltip/\" + ap(ba) + \"/\" + a1 + a0;\n      WH.xhrJsonRequest(bc, ((bh, bk, bg, bj, bf, bi) => {\n        if (!bi) {\n          WH.error(\"Wowhead tooltips failed to load entity data.\", ax(bh) + \" #\" + bk);\n          return\n        } else {\n          if (bi.error) {\n            WH.error(\"Wowhead tooltip request responded with an error.\", bi.error, ax(bh) + \" #\" + bk)\n          }\n        }\n        $WowheadPower.register(bh, bg, bj, bf, bi)\n      }).bind(null, ba, a1, bb, a2, bd))\n    }\n\n    const aV = (bk, a8, bq, bt, a3, a7, bc, a4) => {\n      az();\n      if (!y) {\n        return\n      }\n      if (ar && ar._fixTooltip) {\n        a8 = ar._fixTooltip(a8, al, E, ar)\n      }\n      const a5 = false;\n      if (!a8) {\n        a8 = a(bk, \"notFound\").replace(\"%s\", ax(al));\n        bq = \"inv_misc_questionmark\";\n        a5 = true\n      } else {\n        if (m != null) {\n          if (WH.reforgeStats && m.forg && WH.reforgeStats[m.forg]) {\n            const bs = WH.reforgeStats[m.forg];\n            const bu = [bs.i1];\n            for (const bn in WH.individualToGlobalStat) {\n              if (WH.individualToGlobalStat[bn] == bu[0]) {\n                bu.push(bn)\n              }\n            }\n            let bh = null;\n            if ((bh = a8.match(new RegExp(\"(<!--(stat|rtg)(\" + bu.join(\"|\") + \")-->)[+-]?([0-9]+)\"))) && !a8.match(new RegExp(\"<!--(stat|rtg)\" + bs.i2 + \"-->[+-]?[0-9]+\"))) {\n              const bg = Math.floor(bh[4] * bs.v),\n                bb = aR.traits[bs.s2][0];\n              if (bs.i2 == 6) {\n                a8 = a8.replace(\"<!--rs-->\", \"<br />+\" + bg + \" \" + bb)\n              } else {\n                a8 = a8.replace(\"<!--rr-->\", WH.sprintfGlobal(z.genericequip_tip, bb.toLowerCase(), bs.i2, bg))\n              }\n              a8 = a8.replace(bh[0], bh[1] + (bh[4] - bg));\n              a8 = a8.replace(\"<!--rf-->\", '<span class=\"q2\">' + WH.sprintfGlobal(z.reforged_format, bg, aR.traits[bs.s1][2], aR.traits[bs.s2][2]) + \"</span><br />\")\n            }\n          }\n          if (m.pcs && m.pcs.length) {\n            const bf = 0;\n            for (const bn = 0, bo = m.pcs.length; bn < bo; ++bn) {\n              let bh = null;\n              const bw = new RegExp(\"<span><!--si([0-9]+:)*\" + m.pcs[bn] + '(:[0-9]+)*--><a href=\"/??item=(\\\\d+)\">(.+?)</a></span>');\n              if (bh = a8.match(bw)) {\n                const bm = !isNaN(parseInt(ay)) ? p[ay] : \"enus\";\n                const bv = (WH.isSet(\"g_items\") && g_items[m.pcs[bn]]) ? g_items[m.pcs[bn]][\"name_\" + bm] : bh[4];\n                const a6 = '<a href=\"/item=' + bh[3] + '\">' + bv + \"</a>\";\n                const bl = '<span class=\"q13\"><!--si' + m.pcs[bn] + \"-->\" + a6 + \"</span>\";\n                a8 = a8.replace(bh[0], bl);\n                ++bf\n              }\n            }\n            if (bf > 0) {\n              a8 = a8.replace(\"(0/\", \"(\" + bf + \"/\");\n              a8 = a8.replace(new RegExp(\"<span>\\\\(([0-\" + bf + \"])\\\\)\", \"g\"), '<span class=\"q2\">($1)')\n            }\n          }\n          if (m.know && m.know.length) {\n            a8 = WH.setTooltipSpells(a8, m.know, a3)\n          }\n          if (m.lvl && !m.ilvl) {\n            a8 = WH.setTooltipLevel(a8, (m.lvl ? m.lvl : WH.maxLevel), m.buff)\n          }\n          if (m.who && m.when) {\n            a8 = a8.replace(\"<table><tr><td><br />\", '<table><tr><td><br /><span class=\"q2\">' + WH.sprintf(a(bk, \"achievementComplete\"), m.who, m.when.getMonth() + 1, m.when.getDate(), m.when.getFullYear()) + \"</span><br /><br />\");\n            a8 = a8.replace(/class=\"q0\"/g, 'class=\"r3\"')\n          }\n          if (m.notip && bc) {\n            a8 = \"\";\n            bq = null\n          }\n          if ((al == TYPE_PETABILITY) && m.pwr) {\n            a8 = a8.replace(/<!--sca-->(\\d+)<!--sca-->/g, (bx, by) => {\n              return Math.floor(parseInt(by) * (1 + 0.05 * m.pwr))\n            })\n          }\n          if ((al == aa) && m.cri) {\n            for (const bn = 0; bn < m.cri.length; bn++) {\n              a8 = a8.replace(new RegExp(\"<!--cr\" + parseInt(m.cri[bn]) + \":[^<]+\", \"g\"), '<span class=\"q2\">$&</span>')\n            }\n          }\n        }\n      }\n      if (!aU && WH.isSet(\"g_user\") && ((WH.isRetailTree(U) && (\"lists\" in g_user) && WH.isSet(\"g_completion\")) || (WH.isClassicTree(U) && g_user.characterProfiles && g_user.characterProfiles.length))) {\n        const bj = \"\";\n        const a0 = (WH.isRetailTree(U) && (al in g_types) && (g_types[al] in g_completion)) ? g_completion[g_types[al]] : false;\n        const ba = $WowheadPower.getEntity(al, E, U, ay);\n        if (a0 && (al == aK)) {\n          if (a5 || a8 === a(bk, \"loading\") || (ba.hasOwnProperty(\"worldquesttype\") && ba.worldquesttype != 0) || (ba.hasOwnProperty(\"daily\") && ba.daily != 0) || (ba.hasOwnProperty(\"weekly\") && ba.weekly != 0)) {\n            a0 = false\n          }\n        }\n        const bd = !(a0 && (al in g_completion_categories) && WH.inArray(g_completion_categories[al], ba.completion_category) === -1);\n        const a9 = /^-?\\d+(?:\\.\\d+)?/.exec(E);\n        a9 = (a9 && a9.length) ? a9[0] : E;\n        if (a0) {\n          for (const br in g_user.lists) {\n            const bi = g_user.lists[br];\n            if (!(bi.id in a0)) {\n              continue\n            }\n            const bp = (WH.inArray(a0[bi.id], a9) != -1);\n            if (!bp && !bd) {\n              continue\n            }\n            bj += '<br><span class=\"progress-icon ' + (bp ? \"progress-8\" : \"progress-0\") + '\"></span> ';\n            bj += bi.character + \" - \" + bi.realm + \" \" + bi.region\n          }\n        }\n        if (WH.isClassicTree(U) && al === aK) {\n          for (let a2 = bn = 0; a2 = g_user.characterProfiles[bn]; bn++) {\n            const bp = (WH.inArray(a2.quests, a9) != -1);\n            if (!bp && !bd) {\n              continue\n            }\n            bj += '<br><span class=\"progress-icon ' + (bp ? \"progress-8\" : \"progress-0\");\n            bj += '\"></span> ' + a2.name + \" - \" + a2.realm\n          }\n        }\n        if (WH.isRetailTree(U) && al === TYPE_TRANSMOGSET && g_completion.wardrobe) {\n          (g_user.lists || []).forEach((bx) => {\n            let amount = WH.Wow.TransmogSet.getCompletionAmount(ba.data.completionData || {}, bx.id);\n            if (amount > 0) {\n              bj += '<br><span class=\"progress-icon progress-' + Math.max(1, Math.floor(amount * 8)) + '\"></span> ';\n              bj += bx.character + \" - \" + bx.realm + \" \" + bx.region\n            }\n          })\n        }\n        if (bj != \"\") {\n          a8 += '<br><span class=\"q\">' + WH.TERMS.completion + \":</span>\" + bj\n        }\n      }\n      if (!S && [TYPE_TRANSMOGSET, j].includes(al) && typeof WH.getPreferredTransmogRace !== \"undefined\") {\n        let trg = WH.getPreferredTransmogRace();\n        let race = trg.race;\n        let gender = trg.gender - 1;\n        let div = WH.ce(\"div\", {\n          innerHTML: a8\n        });\n        let pic = WH.qs(\"picture\", div);\n        if (pic) {\n          if (pic.dataset.requiredRace && !ar.dataset.tooltipIgnoreRequiredRace) {\n            race = pic.dataset.requiredRace\n          }\n          let supportClass = al === j ? WH.Wow.ItemSet : WH.Wow.TransmogSet;\n          pic.parentNode.replaceChild(WH.ce(\"img\", {\n            src: supportClass.getThumbUrl(E, race, gender, U),\n            width: 260,\n            height: 440,\n            style: {\n              display: \"block\",\n              margin: \"0 auto\"\n            }\n          }), pic);\n          a8 = div.innerHTML\n        }\n      }\n      if (!S && a8 && (m.diff || m.diffnew || m.noimage)) {\n        bc = \"\";\n        a4 = \"\"\n      }\n      a8 = a8.replace(\"http://\", \"https://\");\n      if (m.map && bt && bt.getMap) {\n        a7 = bt.getMap()\n      }\n      const a1 = (bz, bx) => {\n        if (al !== bz.type || E !== bz.id || U !== bz.dataEnv || ay !== bz.locale || m !== bz.params) {\n          return\n        }\n        switch (aq) {\n          case aF.screen:\n            WH.Tooltip.showInScreen(ar, bx, null, a7, bc, a4, bq);\n            break;\n          case aF.attachToIcon:\n          case aF.attach:\n            const by = WH.isElementFixedPosition(ar);\n            WH.Tooltip.setIcon(aq === aF.attachToIcon ? null : bq, by);\n            WH.Tooltip.show(ar, bx, null, null, null, a7, bc, a4, by);\n            break;\n          case aF.attachWithoutScreenshot:\n            by = WH.isElementFixedPosition(ar);\n            WH.Tooltip.setIcon(bq, by);\n            WH.Tooltip.show(ar, bx, null, null, null, a7, null, null, by);\n            break;\n          case aF.floatWithoutIcon:\n            by = WH.isElementFixedPosition(ar);\n            WH.Tooltip.setIcon(null, by);\n            WH.Tooltip.showAtXY(bx, aw, av, CURSOR_HSPACE, CURSOR_VSPACE, a7, bc, a4, by);\n            break;\n          case aF[\"float\"]:\n          default:\n            by = WH.isElementFixedPosition(ar);\n            WH.Tooltip.setIcon(bq, by);\n            WH.Tooltip.showAtXY(bx, aw, av, CURSOR_HSPACE, CURSOR_VSPACE, a7, bc, a4, by)\n        }\n        if (S && WH.Tooltip.logo) {\n          WH.Tooltip.logo.style.display = (D ? \"block\" : \"none\")\n        }\n      };\n      const be = {\n        type: al,\n        id: E,\n        dataEnv: U,\n        locale: ay,\n        params: m\n      };\n      aO(a8, a3, a1.bind(this, be), be)\n    }\n\n    const aO = (a1, a2, a4, a3) => {\n      switch (a3.type) {\n        case aP:\n          const a0 = $WowheadPower.getEntity(a3.type, a3.id, a3.dataEnv, a3.locale);\n          if (a3.params.spec && !(a3.params.know && a3.params.know.length)) {\n            ac.getSpellsBySpec(a3.params.spec, (a5) => {\n              a1 = a1.replace(/<!--embed:([^>]+)-->/g, (a6, a7) => {\n                return WH.setTooltipSpells(a0.data.embeds[a7].tooltip, a5, a0.data.embeds[a7].spells)\n              });\n              a4(a1)\n            });\n            break\n          } else {\n            a1 = a1.replace(/<!--embed:([^>]+)-->/g, (a5, a6) => {\n              return WH.setTooltipSpells(a0.data.embeds[a6].tooltip, a3.params.know, a0.data.embeds[a6].spells)\n            })\n          }\n          window.requestAnimationFrame(a4.bind(null, a1));\n          break;\n        case ai:\n          if (a3.params.spec && !(a3.params.know && a3.params.know.length)) {\n            ac.getSpellsBySpec(a3.params.spec, (a5) => {\n              a1 = WH.setTooltipSpells(a1, a5, a2);\n              a4(a1)\n            });\n            break\n          }\n          window.requestAnimationFrame(a4.bind(null, a1));\n          break;\n        default:\n          window.requestAnimationFrame(a4.bind(null, a1))\n      }\n    }\n\n    const W = (a2, a4, a3, a0) => {\n      if (al == a2 && E == a4 && U == a3 && ay == a0) {\n        aV(a0, a(a0, \"loading\"));\n        const a1 = $WowheadPower.getEntity(a2, a4, a3, a0);\n        a1.timer = setTimeout(P.bind(this, a2, a4, a3, a0), 3850)\n      }\n    }\n\n    const P = (a2, a4, a3, a0) => {\n      const a1 = $WowheadPower.getEntity(a2, a4, a3, a0);\n      a1.status = aE;\n      if (al == a2 && E == a4 && U == a3 && ay == a0) {\n        aV(a0, a(a0, \"noResponse\"))\n      }\n    }\n\n    const at = (a0, a2, a1) => {\n      if (a1.build) {\n        return a2 + \"build\" + a1.build\n      }\n      return a2 + (a1.rand ? \"r\" + a1.rand : \"\") + (a1.ench ? \"e\" + a1.ench : \"\") + (a1.gems ? \"g\" + a1.gems.join(\",\") : \"\") + (a1.sock ? \"s\" : \"\") + (a1.upgd ? \"u\" + a1.upgd : \"\") + (a1.twtbc ? \"twtbc\" : \"\") + (a1.twwotlk ? \"twwotlk\" : \"\") + (a1.twcata ? \"twcata\" : \"\") + (a1.twmists ? \"twmists\" : \"\") + (a1.ilvl ? \"ilvl\" + a1.ilvl : \"\") + (a1.lvl ? \"lvl\" + a1.lvl : \"\") + (a1.gem1lvl ? \"g1lvl\" + a1.gem1lvl : \"\") + (a1.gem2lvl ? \"g2lvl\" + a1.gem2lvl : \"\") + (a1.gem3lvl ? \"g3lvl\" + a1.gem3lvl : \"\") + (a1.artk ? \"ak\" + a1.artk : \"\") + (a1.nlc ? \"nlc\" + a1.nlc : \"\") + (a1.transmog ? \"transmog\" + a1.transmog : \"\") + (a1.tink ? \"tink\" + a1.tink : \"\") + (a1.pvp ? \"pvp\" : \"\") + (a1.bonus ? \"b\" + a1.bonus.join(\",\") : \"\") + (a1.gem1bonus ? \"g1b\" + a1.gem1bonus.join(\",\") : \"\") + (a1.gem2bonus ? \"g2b\" + a1.gem2bonus.join(\",\") : \"\") + (a1.gem3bonus ? \"g3b\" + a1.gem3bonus.join(\",\") : \"\") + (a1[\"crafted-stats\"] ? \"craftedStats\" + a1[\"crafted-stats\"].join(\",\") : \"\") + (a1.q ? \"q\" + a1.q : \"\") + (a1.level ? \"level\" + a1.level : \"\") + (a1.abil ? \"abil\" + a1.abil.join(\",\") : \"\") + (a1.dd ? \"dd\" + a1.dd : \"\") + (a1.ddsize ? \"ddsize\" + a1.ddsize : \"\") + (a1.diff == ai ? \"diff\" + a1.diff : \"\") + (a1.rank ? \"rank\" + a1.rank : \"\") + (a1[\"class\"] ? \"class\" + a1[\"class\"] : \"\") + (a0 !== ai && a1.spec ? \"spec\" + a1.spec : \"\") + (a1.rewards ? \"rewards\" + a1.rewards.join(\":\") : \"\") + (a1[\"azerite-powers\"] ? \"azPowers\" + a1[\"azerite-powers\"] : \"\") + (a1[\"azerite-essence-powers\"] ? \"aePowers\" + a1[\"azerite-essence-powers\"] : \"\") + (a1.nomajor ? \"nomajor\" : \"\")\n    }\n    this.clearTouchTooltip = (a0) => {\n      if (af) {\n        if (a0 !== true) {\n          af.removeAttribute(\"data-showing-touch-tooltip\")\n        }\n        af.hasWHTouchTooltip = false\n      }\n      af = null;\n      if (a0 !== true) {\n        WH.qsa(\"[data-showing-touch-tooltip]\").forEach((a1) => {\n          delete a1.dataset.showingTouchTooltip\n        })\n      }\n      if (WH.Tooltip.screen) {\n        WH.Tooltip.screenInnerWrapper.scrollTop = 0;\n        WH.Tooltip.screenInnerWrapper.scrollLeft = 0;\n        WH.Tooltip.screen.style.display = \"none\";\n        WH.Tooltip.mobileTooltipShown = false\n      }\n      let showingTooltip = a0 === true ? WH.Tooltip.showingTooltip : false;\n      WH.Tooltip.hide();\n      WH.Tooltip.showingTooltip = showingTooltip;\n      $WowheadPower.setParent()\n    };\n\n    const K = (a0, a2, a1) => {\n      if (S) {\n        return false\n      }\n      if (!WH.User.isPremium()) {\n        return false\n      }\n      if (WH.Tooltip.hideScreenshots) {\n        return false\n      }\n      let entity = WH.Gatherer.get(a0, a2, a1, true);\n      if (entity) {\n        if (entity.screenshot && entity.screenshot.id) {\n          return [WH.getScreenshotUrl(entity.screenshot.id, \"small\", {\n            imageType: entity.screenshot.imageType\n          }), \"screenshot\"]\n        } else {\n          if (!WH.wowheadRemote && a0 === aI.ITEM && entity.jsonequip && entity.jsonequip.displayid) {\n            let displayId = entity.jsonequip.displayid;\n            let raceMask = entity.reqrace || entity.jsonequip.races;\n            let raceId = WH.Wow.Models.getRaceIdFromMask(raceMask);\n            if ((entity.classs && entity.classs !== WH.Wow.Item.CLASS_ARMOR) || (entity.jsonequip.slotbak && !WH.Wow.Item.isArmorInvType(entity.jsonequip.slotbak))) {\n              raceId = undefined\n            }\n            let bonusIds = Listview.funcBox.getCurrentItemBonuses.call(this, entity);\n            let appearance = g_items.getAppearance(entity.id, bonusIds);\n            if (appearance && appearance[0]) {\n              displayId = appearance[0]\n            }\n            if (displayId) {\n              return [WH.Wow.Item.getThumbUrl(displayId, raceId), \"screenshot\"]\n            }\n          }\n        }\n      }\n      return false\n    }\n    this.register = (a7, a1, a2, a8, a6) => {\n      const a5 = this.getEntity(a7, a1, a2, a8);\n      if (a6.hasOwnProperty(\"additionalIds\")) {\n        const a3 = a6.additionalIds;\n        delete a6.additionalIds;\n        if (a3.length) {\n          for (const a9 = 0; a9 < a3.length; a9++) {\n            this.register(a7, a3[a9], a2, a8, a6)\n          }\n        }\n      }\n      if (!ac.isLoaded(a7, a2)) {\n        a5.status = u;\n        ac.registerCallback(a7, a2, this.register.bind(this, a7, a1, a2, a8, a6));\n        return\n      }\n      if ((typeof a1 === \"string\" && (a1.indexOf(\"lvl\") === 0 || a1.match(/[^i]lvl/))) && !ac.isLoaded(ai, a2)) {\n        a5.status = u;\n        ac.registerCallback(ai, a2, this.register.bind(this, a7, a1, a2, a8, a6));\n        return\n      }\n      if (a5.timer) {\n        clearTimeout(a5.timer);\n        delete a5.timer\n      }\n      if (!WH.wowheadRemote && a6.map) {\n        if (a5.data.map == null) {\n          a5.data.map = new Mapper({\n            parent: WH.ce(\"div\"),\n            zoom: 3,\n            zoomable: false,\n            buttons: false\n          })\n        }\n        a5.data.map.update(a6.map);\n        delete a6.map\n      }\n      for (const a4 in a6) {\n        if (!a6.hasOwnProperty(a4)) {\n          continue\n        }\n        a5.data[a4] = a6[a4]\n      }\n      switch (a5.status) {\n        case ag:\n        case u:\n        case O:\n          if (a5.data[s()]) {\n            a5.status = ao\n          } else {\n            a5.status = d\n          }\n      }\n      if (WH.Tooltip.showingTooltip && al == a7 && E == a1 && U == a2 && ay == a8) {\n        const ba = a5.data[v(m.image)];\n        const bb = a5.data[\"image\" + m.image + \"_class\"];\n        const a0 = K(a7, a1, a2);\n        if (a0) {\n          ba = a0[0];\n          bb = a0[1]\n        }\n        aV(a8, a5.data[s()], a5.data.icon, a5.data.map, a5.data[aZ()], a5.data[s(2)], ba, bb)\n      }\n      while (a5.callbacks.length) {\n        a5.callbacks.shift()()\n      }\n    };\n    this.request = (a2, a5, a4, a0, a3) => {\n      if (!a3) {\n        a3 = {}\n      }\n      if (a0 === undefined) {\n        a0 = ab.getId()\n      }\n      if (!a4) {\n        a4 = WH.getDataEnv()\n      }\n      const a1 = at(a2, a5, a3);\n      this.getEntity(a2, a1, a4, a0);\n      aB(a2, a5, a4, a0, true, a3)\n    };\n    this.triggerTooltip = (a0, a1) => {\n      I(a0, a1 || {\n        target: a0\n      }, true)\n    };\n    this.refreshLinks = (a1) => {\n      if (a1 === true || g(\"renameLinks\") || g(\"colorLinks\") || g(\"iconizeLinks\")) {\n        const a0 = WH.isTouch();\n        let links = x();\n        for (let link, i = 0; link = links[i]; i++) {\n          const a2 = link.parentNode;\n          const a3 = false;\n          while (a2 != null) {\n            let className = a2.getAttribute && a2.getAttribute(\"class\") || \"\";\n            if ((\" \" + className + \" \").replace(/[\\n\\t]/g, \" \").indexOf(\" wowhead-tooltip \") > -1) {\n              a3 = true;\n              break\n            }\n            a2 = a2.parentNode\n          }\n          if (!a3) {\n            I(link);\n            if (a0) {\n              am(link)\n            }\n          }\n        }\n      }\n      this.hideTooltip()\n    };\n    this.setParent = (a0) => {\n      WH.Tooltip.reset();\n      WH.Tooltip.prepare(a0, WH.isElementFixedPosition(a0))\n    };\n    this.replaceWithTooltip = (bb, a6, a1, a2, a8, a3, ba) => {\n      if (!a3) {\n        a3 = {}\n      }\n      if (a8 === undefined) {\n        a8 = ab.getId()\n      }\n      if (!a2) {\n        a2 = WH.getDataEnv()\n      }\n      if (typeof bb == \"string\") {\n        bb = document.getElementById(bb)\n      }\n      if (!bb) {\n        return false\n      }\n      const a7 = at(a6, a1, a3);\n      const a4 = this.getEntity(a6, a7, a2, a8);\n      switch (a4.status) {\n        case ao:\n          if (!bb.parentNode) {\n            return true\n          }\n          while (bb.hasChildNodes()) {\n            bb.removeChild(bb.firstChild)\n          }\n          const a0 = [\"wowhead-tooltip-inline\"];\n          if (a4.data.icon) {\n            a0.push(\"wowhead-tooltip-inline-icon\")\n          }\n          an(bb, a0);\n          const a5 = a4.data[s()];\n          const a9 = (bc) => {\n            if (typeof ba === \"function\") {\n              bc = ba(bc)\n            }\n            WH.Tooltip.append(bb, bc, true, a4.data.icon)\n          };\n          aO(a5, a4.data[aZ()], a9, {\n            type: a6,\n            id: a1,\n            dataEnv: a2,\n            locale: a8,\n            params: a3\n          });\n          return true;\n        case ag:\n        case O:\n          a4.callbacks.push(this.replaceWithTooltip.bind(this, bb, a6, a1, a2, a8, a3, ba));\n          this.request(a6, a1, a2, a8, a3);\n          return true\n      }\n      return false\n    };\n    if (S) {\n      this.set = (a0) => {\n        WH.cO(aA, a0)\n      };\n      this.showTooltip = (a1, a2, a0) => {\n        L(a1);\n        aV(0, a2, a0)\n      };\n      this.hideTooltip = () => {\n        if (typeof WH === \"undefined\" || typeof WH.Tooltip === \"undefined\" || typeof WH.Tooltip.hide !== \"function\") {\n          return\n        }\n        WH.Tooltip.hide()\n      };\n      this.moveTooltip = (a0) => {\n        aC(a0)\n      }\n    } else {\n      this.disableCompletion = () => {\n        aU = true\n      }\n    }\n    au()\n  }\n};"]},"metadata":{},"sourceType":"module"}